ref：
[https://segmentfault.com/a/1190000020249988](https://segmentfault.com/a/1190000020249988)
[https://blog.51cto.com/zhangxueliang/3760030](https://blog.51cto.com/zhangxueliang/3760030)
## Digest
程序之间交互通常有 2 种方式：polling 和 webhooks
其中 Webhook 是一个 API 的概念，是微服务 API 使用的范式之一，通常也被称为反向 API。在传统的方法中，客户端从服务器请求数据，然后服务器提供给客户端数据(客户端polling服务端的数据)。但是在 Webhook 的范式下，服务器更新了数据，然后自动将其发送到客户端(服务端pushing数据到客户端)。==是一种对传统的 CS 模式的逆转==
> 假设现在有两个项目 A 和 B，A 需要获取 B 的数据

## Polling
以 AB 项目为例子，传统的项目中 A 需要不断地向 B 轮询，以便获取最新的数据。这种情况下假设 B 没有做数据更新，A 就会做无意向的操作而浪费系统资源
## Webhook
有点像消息队列中的订阅模式，如果 B 做了数据更新，就会向 A 预设的一个 URL (webhook 地址)做数据推送。项目 A 收到 B 的数据后进行处理
## 主要应用场景

- 场景一

你需要向视频处理服务器上传一个视频、你需要获得视频处理后的结果,然而视频处理服务器上视频很多,在排队进行处理,你不能立刻获取到视频的处理结果,此时你可以设计一个hook url,当视频处理完成后,视频处理服务器自动向你的hook url发送请求,告诉你视频已经处理完毕.

- 场景二

对于第三方平台验权、登陆等 没有前端界面做中转的场景，或者强安全要求的支付场景等，适合用 Webhook 做数据主动推送，说白了就是在前端无从参与，或者因为前端安全问题不适合参与时，就是 Webhook 的场景；很显然 Webhook 也不是 Http 的替代品，不过的确是一种新的前后端交互方式。
