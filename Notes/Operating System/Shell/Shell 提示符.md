# Shell 提示符

参考：

https://wangdoc.com/bash/prompt.html

## 概述

> 注意`[chz@cyberpelican Desktop]$ `是提示符，提示符可以修改具体查

对于普通用户，==Base shell 默认的提示符是美元符号`$`；对于超级用户（root 用户），Bash Shell 默认的提示符是井号`#`。==该符号表示 Shell 等待输入命令。

```
[chz@cyberpelican Desktop]$ whoami
chz
[chz@cyberpelican Desktop]$ su root
Password: 
[root@cyberpelican Desktop]# whoami
root
```

- chz表示启动Shell的用户名
- cyberpelican表示本地主机名
- Desktop表示当前目录

## PS1 VS PS2

Shell 通过`PS1`和`PS2`两个环境变量来控制提示符格式：

- PS1 控制最外层命令行的提示符格式。
- PS2 控制第二层命令行的提示符格式。

```
[root@cyberpelican ~]# echo $PS1
[\u@\h \W]\$
[root@cyberpelican ~]# echo $PS2
>
```

example

```
[root@cyberpelican ~]# echo "hello world"
hello world
[root@cyberpelican ~]# echo "hello
> world
> "
hello
world
```

当前stdout中包含空格时，需要使用`"`，echo以一对`"`表示结束，如果没有给出将进入第二层命令行

## 修改提示符

### 文本内容

由于PS1和PS2都是环境变量所以可以修改它的值

```
[root@cyberpelican ~]# PS1="[\t][\u]\$"
[11:21:20][root]$
```

PS1和PS2中可以使用的变量

| 字符 | 描述                                                         |
| ---- | ------------------------------------------------------------ |
| \a   | 铃声字符                                                     |
| \d   | 格式为“日 月 年”的日期                                       |
| \e   | ASCII转义字符                                                |
| \h   | 本地主机名                                                   |
| \H   | 完全合格的限定域主机名                                       |
| \j   | shell当前管理的作业数                                        |
| \1   | shell终端设备名的基本名称                                    |
| \n   | ASCII换行字符                                                |
| \r   | ASCII回车                                                    |
| \s   | shell的名称                                                  |
| \t   | 格式为“小时:分钟:秒”的24小时制的当前时间                     |
| \T   | 格式为“小时:分钟:秒”的12小时制的当前时间                     |
| \@   | 格式为am/pm的12小时制的当前时间                              |
| \u   | 当前用户的用户名                                             |
| \v   | bash shell的版本                                             |
| \V   | bash shell的发布级别                                         |
| \w   | 当前工作目录                                                 |
| \W   | 当前工作目录的基本名称                                       |
| \!   | 该命令的bash shell历史数                                     |
| \#   | 该命令的命令数量                                             |
| \$   | 如果是普通用户，则为美元符号`$`；如果超级用户（root 用户），则为井号`#`。 |
| \nnn | 对应于八进制值 nnn 的字符                                    |
| \\   | 斜杠                                                         |
| \[   | 控制码序列的开头                                             |
| \]   | 控制码序列的结尾                                             |

### 颜色

默认情况下，命令提示符是显示终端预定义的颜色。Shell允许自定义提示符

```
PS1='\[\033[0;31m\]<\u@\h \W>\$'
```

> 但是，上面这样设置以后，用户在提示符后面输入的文本也是红色的。为了解决这个问题， 可以在结尾添加另一个特殊代码`\[\033[00m\]`，表示将其后的文本恢复到默认颜色。

```
PS1='\[\033[0;31m\]<\u@\h \W>\$\[\033[00m\]'
```

PS1和PS2中可以使用的颜色

| 代码         | 描述   |
| ------------ | ------ |
| `\033[0;30m` | 黑色   |
| `\033[1;30m` | 深灰色 |
| `\033[0;31m` | 红色   |
| `\033[1;31m` | 浅红色 |
| `\033[0;32m` | 绿色   |
| `\033[1;32m` | 浅绿色 |
| `\033[0;33m` | 棕色   |
| `\033[1;33m` | 黄色   |
| `\033[0;34m` | 蓝色   |
| `\033[1;34m` | 浅蓝色 |
| `\033[0;35m` | 粉红   |
| `\033[1;35m` | 浅粉色 |
| `\033[0;36m` | 青色   |
| `\033[1;36m` | 浅青色 |
| `\033[0;37m` | 浅灰色 |
| `\033[1;37m` | 白色   |

### 前景色

带有红色背景的提示符

```
PS1='\[\033[0;41m\]<\u@\h \W>\$\[\033[0m\] '
```

可以使用的背景色

| 代码         | 颜色   |
| ------------ | ------ |
| `\033[0;40m` | 蓝色   |
| `\033[1;44m` | 黑色   |
| `\033[0;41m` | 红色   |
| `\033[1;45m` | 粉红   |
| `\033[0;42m` | 绿色   |
| `\033[1;46m` | 青色   |
| `\033[0;43m` | 棕色   |
| `\033[1;47m` | 浅灰色 |
