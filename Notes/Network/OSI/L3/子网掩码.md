## 子网掩码

> 必需借助子网掩码才能划分子网，子网掩码必须是相邻的（不存在`*.*.*.01101000`）

- 从一个 IP 数据报的首部并无法判断源主机或目的主机所连接的网络是否进行了子网划分。

- 使用子网掩码 (subnet mask) 可以找出 IP 地址中的网络地址部分。  

- 公式:

  ==网络地址 == subnet mask & IP==    即主机位归零

- 规则：
  子网掩码长度 ＝ 32 位
  某位 ＝ 1：==IP地址中的对应位为网络号和子网号==
  某位 ＝ 0：==IP地址中的对应位为主机号==

  例如:

  <img src="..\..\..\imgs\_Net\计算机网络\Snipaste_2020-08-21_12-26-52.png" style="zoom:80%;" />

  172属于B类IP,没有划分子网, 默认255.255.0.0为B类子网掩码

  例如:

  <img src="..\..\..\imgs\_Net\计算机网络\Snipaste_2020-08-21_13-12-05.png" style="zoom:80%;" />

  将145.13.3.10 B类IP的主机位,划分8位作为子网,剩下的8作为主机号

  那么子网掩码为255.255.255.0, 子网网络地址为145.13.3.0

  

  例如:

  <img src="..\..\..\imgs\_Net\计算机网络\Snipaste_2020-08-21_13-27-26.png" style="zoom:80%;" />

  192属于C类IP, 划分一位子网, 那么子网掩码为255.255.255.128, 主机可用地址192.168.0.129 -- 255, 2^7 - 1个地址

$$
如果要分成n个网段, 那么就借\log_2n位主机位,可用主机位为\frac{255}{n}
$$

例:

已知IP地址是141.14.72.24, 子网掩码是255.255.192.0 . 试求网络地址

<img src="..\..\..\imgs\_Net\计算机网络\Snipaste_2020-08-21_15-11-14.png" style="zoom:80%;" />

​	若子网掩码改为 255.255.224.0，试求网络地址，讨论所得结果。 	

​	==不同的子网掩码能得出相同的网络地址==。但不同的掩码的效果是不同的。 

#### 默认子网掩码

<img src="..\..\..\imgs\_Net\计算机网络\Snipaste_2020-08-21_12-50-26.png" style="zoom:80%;" />
