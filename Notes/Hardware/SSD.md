# SSD

参考：

https://pcpepper.com/sata-vs-msata-vs-ngff-m-2-vs-nvme-pcie-m-2-which-is-the-right-ssd-for-me/

https://www.hp.com/us-en/shop/tech-takes/what-is-a-hybrid-hard-drive

## Digest

solid-state hybrid drive 简称 SSD，中文叫固态硬盘

## Types

根据接口 市面上主要有4种SSDs

1. SATA SSD
2. mSATA SSD
3. NGFF M.2 SSD
4. NVME PCIe M.2 SSD

接口和性能各有不同

### SATA SSD 

SATA SSD 使用和 HHD 一样的SATA(Serial Advanced Technology Attachment)接口，所以体积会比较大2.5inch。读写速率通常在450-550MB/s左右

![Samsung-850-EVO-SSD](https://github.com/dhay3/image-repo/raw/master/20210601/Samsung-850-EVO-SSD.4fh5n1lv3660.jpg)

### mSATA or Mini-SATA SSD

使用mSATA接口，小巧通常被用在laptop，速度和SATA SSD差不多，但是价格贵一点。

![Transcend-mSATA-SSD](https://github.com/dhay3/image-repo/raw/master/20210601/Transcend-mSATA-SSD.8vq89iht4io.jpg)

### NGFF SSD

NGFF(Next Generation Form Factor) SSD，也被称为M.2 SSD，使用M.2接口（==PCIe mini card物理接口==）并且和mSATA设备不兼容。虽然mSATA接口兼容SATA1.0到SATA3.0，但是不兼容USB3.0和PCIe 3.0。但是M.2接口支持SATA3.0，USB3.0，PCIe 3.0

速率和SATA3.0 SSD 和 mSATA SSD差不多，但是同时有SATA和mSATA的优点

![Samsung-860-EVO-M](https://github.com/dhay3/image-repo/raw/master/20210601/Samsung-860-EVO-M.2-SSD-2.7eiu9rh2xyw0.jpg)

### NVME M.2 SSD

NVME  M.2 SSD（使用PCIe mini card物理接口） 是目前市面上速度最快的SSD，同样使用M.2接口，但是使用NVMe协议。读写速度大约在3500到3000MB/s，价格相对较贵。主板需要支持NVME才行

![Samsung-960-EVO-M](https://github.com/dhay3/image-repo/raw/master/20210601/Samsung-960-EVO-M.2-SSD-NVMe-2.6vdlcbexduk0.jpg)

## SSD VS HDD

1. lack the physical spinning disks and movable read-rewrite heads. Assess data completely electronically instead of electromechanically

   以电子存取的方式替代机电存取，也就意味不需要转盘片寻址，也就没有噪音

2. higher IOPS and lower latency; use non-volatile NAND flash memory

   高IO吞吐，低时延；使用 NAND 闪存

4. less fragment

   几乎没有磁盘碎片

以下是摘自 wiki 的详细对比

| Attribute or characteristic                                  | Solid-state drive                                            | Hard disk drive                                              |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| Price per capacity                                           | SSDs generally are more expensive than HDDs and expected to remain so into the 2020s.[*[needs update](https://en.wikipedia.org/wiki/Wikipedia:Manual_of_Style/Dates_and_numbers#Chronological_items)*][[154\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-YlERz-154) SSD price as of first quarter 2018 around 30 cents (US) per gigabyte based on 4 TB models.[[155\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-Backblaze2018-155) Prices have generally declined annually and as of 2018 are expected to continue to do so. | HDD price as of first quarter 2018 around 2 to 3 cents (US) per gigabyte based on 1 TB models.[[155\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-Backblaze2018-155) Prices have generally declined annually and as of 2018 are expected to continue to do so. |
| Storage capacity                                             | In 2018, SSDs were available in sizes up to 100 TB,[[156\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-GJObK-156) but less costly, 120 to 512 GB models were more common. | In 2018, HDDs of up to 16 TB[[157\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-mWxqA-157) were available. |
| Reliability – data retention                                 | If left without power, worn out SSDs typically start to lose data  after about one to two years in storage, depending on temperature. New  drives are supposed to retain data for about ten years.[[8\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-Archived_copy-8) MLC and TLC based devices tend to lose data earlier than SLC-based devices. SSDs are not suited for archival use. | If kept in a dry environment at low temperatures, HDDs can retain  their data for a very long period of time even without power. However,  the mechanical parts tend to become clotted over time and the drive  fails to spin up after a few years in storage. |
| [Reliability](https://en.wikipedia.org/wiki/Reliability_engineering) – longevity | SSDs have no moving parts to fail mechanically so in theory, should  be more reliable than HDDs. However, in practice this is unclear.[[158\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-Goog2016-158) Each block of a flash-based SSD can only be erased (and therefore  written) a limited number of times before it fails. The controllers  manage this limitation so that drives can last for many years under  normal use.[[159\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-CWorldLackluster2-159)[[160\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-xWrxn-160)[[161\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-P0mX9-161)[[162\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-U228W-162)[[163\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-IOiAC-163) SSDs based on DRAM do not have a limited number of writes. However the  failure of a controller can make an SSD unusable. Reliability varies  significantly across different SSD manufacturers and models with return  rates reaching 40% for specific drives.[[148\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-behardware_2012-148) Many SSDs critically fail on power outages; a December 2013 survey of  many SSDs found that only some of them are able to survive multiple  power outages.[[164\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-ZkM6K-164)[*[needs update?](https://en.wikipedia.org/wiki/Wikipedia:Manual_of_Style/Dates_and_numbers#Chronological_items)*] A Facebook study found that sparse data layout across an SSD's physical  address space (e.g., non-contiguously allocated data), dense data layout (e.g., contiguous data) and higher operating temperature (which  correlates with the power used to transmit data) each lead to increased  failure rates among SSDs.[[165\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-Sigmetrics-165) However, SSDs have undergone many revisions that have made them  more reliable and long lasting. New SSDs in the market today use power  loss protection circuits, wear leveling techniques and thermal  throttling to ensure longevity.[[166\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-Ontrack-166)[[167\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-HowToGeek-167) | HDDs have moving parts, and are subject to potential mechanical failures from the resulting [wear and tear](https://en.wikipedia.org/wiki/Wear_and_tear) so in theory, should be less reliable than SSDs. However, in practice this is unclear.[[158\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-Goog2016-158) The storage medium itself (magnetic platter) does not essentially degrade from reading and write operations. According to a study performed by [Carnegie Mellon University](https://en.wikipedia.org/wiki/Carnegie_Mellon_University) for both consumer and enterprise-grade HDDs, their average failure rate is 6 years, and life expectancy is 9–11 years.[[168\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-Q1fjA-168) However the risk of a sudden, catastrophic data loss can be lower for HDDs.[[169\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-Tom's_Hardware_2011-169) When stored offline (unpowered on the shelf) in long term, the  magnetic medium of HDD retains data significantly longer than flash  memory used in SSDs. |
| Start-up time                                                | Almost instantaneous; no mechanical components to prepare. May need a few milliseconds to come out of an automatic power-saving mode. | Drive [spin-up](https://en.wikipedia.org/wiki/Spin-up) may take several seconds. A system with many drives may need to stagger spin-up to limit peak power drawn, which is briefly high when an HDD is first started.[[170\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-diffen-170) |
| Sequential access performance                                | In consumer products the maximum transfer rate typically ranges from about 200 MB/s to 3500 MB/s,[[171\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-UJjmw-171)[[172\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-SHPqV-172)[[173\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-B4XD0-173) depending on the drive. Enterprise SSDs can have multi-gigabyte per second throughput. | Once the head is positioned, when reading or writing a continuous  track, a modern HDD can transfer data at about 200 MB/s. Data transfer  rate depends also upon rotational speed, which can range from 3,600 to  15,000 [rpm](https://en.wikipedia.org/wiki/Revolutions_per_minute)[[174\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-koVNz-174) and also upon the track (reading from the outer tracks is faster). Data transfer speed can be up to 480 MB/s(experimental).[[175\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-Arfb1-175) |
| Random access performance[[176\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-anandtech_deterministic_perf-176) | [Random access](https://en.wikipedia.org/wiki/Random_access) time typically under 0.1 ms.[[177\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-6oWdr-177)[[178\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-Vmd04-178) As data can be retrieved directly from various locations of the flash  memory, access time is usually not a big performance bottleneck. Read  performance does not change based on where data is stored. In  applications, where hard disk drive seeks are the limiting factor, this  results in faster boot and application launch times (see [Amdahl's law](https://en.wikipedia.org/wiki/Amdahl's_law)).[[179\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-xbitSSDvsHD-179)[[170\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-diffen-170) SSD technology can deliver rather consistent read/write speed, but  when many individual smaller blocks are accessed, performance is  reduced. Flash memory must be erased before it can be rewritten to. This requires an excess number of write operations over and above that intended (a  phenomenon known as [write amplification](https://en.wikipedia.org/wiki/Write_amplification)), which negatively impacts performance.[[180\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-SR2Lk-180) SSDs typically exhibit a small, steady reduction in write performance  over their lifetime, although the average write speed of some drives can improve with age.[[181\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-tJ2g1-181) | Read [latency](https://en.wikipedia.org/wiki/Latency_(engineering)#Mechanical_latency) time is much higher than SSDs.[[182\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-ELGzM-182) [Random access](https://en.wikipedia.org/wiki/Random_access) time ranges from 2.9 (high end server drive) to 12 ms (laptop HDD) due to the need to move the heads and [wait for the data to rotate](https://en.wikipedia.org/wiki/Rotational_latency) under the magnetic head.[[183\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-HDD_Glossary-183) Read time is different for every different seek, since the location of  the data and the location of the head are likely different. If data from different areas of the platter must be accessed, as with fragmented  files, response times will be increased by the need to seek each  fragment.[[184\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-reliability-184) |
| Impact of [file system fragmentation](https://en.wikipedia.org/wiki/File_system_fragmentation) | There is limited benefit to reading data sequentially (beyond typical FS block sizes, say 4 [KiB](https://en.wikipedia.org/wiki/Kibibyte)), making fragmentation negligible for SSDs. Defragmentation would cause  wear by making additional writes of the NAND flash cells, which have a  limited cycle life.[[185\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-tTIvD-185)[[186\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-6LYC3-186) However, even with SSDs there is a practical limit on how much  fragmentation certain file systems can sustain; once that limit is  reached, subsequent file allocations fail.[[187\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-:0-187) Consequently, defragmentation may still be necessary, although to a lesser degree.[[187\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-:0-187) | Some file systems, like [NTFS](https://en.wikipedia.org/wiki/NTFS), become fragmented over time if frequently written; periodic defragmentation is required to maintain optimum performance.[[188\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-YQqlI-188) This is usually not an issue in modern file systems.[*[citation needed](https://en.wikipedia.org/wiki/Wikipedia:Citation_needed)*][*[clarification needed](https://en.wikipedia.org/wiki/Wikipedia:Please_clarify)*] |
| [Acoustic noise](https://en.wikipedia.org/wiki/Acoustic_noise)[[189\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-gMdea-189) | SSDs have no moving parts and therefore are silent, although, on some SSDs, [high pitch noise from the high voltage generator](https://en.wikipedia.org/wiki/Coil_whine) (for erasing blocks) may occur. | HDDs have moving parts ([heads](https://en.wikipedia.org/wiki/Disk_read-and-write_head), [actuator](https://en.wikipedia.org/wiki/Hard_disk_drive_actuator), and [spindle](https://en.wikipedia.org/wiki/Hard_disk_drive_spindle) motor) and make characteristic sounds of whirring and clicking; noise  levels vary depending on the RPM, but can be significant (while often  much lower than the sound from the cooling fans). Laptop hard drives are relatively quiet. |
| Temperature control[[190\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-4JupZ-190) | A [Facebook](https://en.wikipedia.org/wiki/Facebook) study found that at operating temperatures above 40 °C (104 °F), the  failure rate among SSDs increases with temperature. However, this was  not the case with newer drives that employ [thermal throttling](https://en.wikipedia.org/wiki/Thermal_throttling), albeit at a potential cost to performance.[[165\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-Sigmetrics-165) In practice, SSDs usually do not require any special cooling and can  tolerate higher temperatures than HDDs. Some SSDs, including high-end  enterprise models installed as add-on cards or 2.5-inch bay devices, may ship with [heat sinks](https://en.wikipedia.org/wiki/Heat_sink) to dissipate generated heat, requiring certain volumes of airflow to operate.[[191\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-UdqKi-191) | Ambient temperatures above 35 °C (95 °F) can shorten the life of a  hard disk, and reliability will be compromised at drive temperatures  above 55 °C (131 °F). Fan cooling may be required if temperatures would  otherwise exceed these values.[[192\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-Fskk3-192) In practice, modern HDDs may be used with no special arrangements for cooling. |
| Lowest operating temperature[[193\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-RcRdv-193) | SSDs can operate at −55 °C (−67 °F).                         | Most modern HDDs can operate at 0 °C (32 °F).                |
| Highest altitude when operating[[194\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-QADkB-194) | SSDs have no issues on this.[[195\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-yrvvN-195) | HDDs can operate safely at an altitude of at most 3,000 meters  (10,000 ft). HDDs will fail to operate at altitudes above 12,000 meters  (40,000 ft).[[196\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-IHDDF-196) With the introduction of helium-filled[[197\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-wd-helium-197)[[198\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-ZMeE9-198) (sealed) HDDs, this is expected to be less of an issue. |
| Moving from a cold environment to a warmer environment       | SSDs have no issues with this. Due to the thermal throttling  mechanism SSDs are kept secure and prevented from the temperature  imbalance. | A certain amount of acclimation time may be needed when moving some  HDDs from a cold environment to a warmer environment before operating  them; depending upon humidity, condensation could occur on heads and/or  disks and operating it immediately will result in damage to such  components.[[199\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-uTyZp-199) Modern helium HDDs are sealed and do not have such a problem. |
| Breather hole                                                | SSDs do not require a breather hole.                         | Most modern HDDs require a breather hole in order to function properly.[[196\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-IHDDF-196) Helium-filled devices are sealed and do not have a hole. |
| Susceptibility to [environmental factors](https://en.wikipedia.org/wiki/Hard_disk_drive#Integrity_and_failure)[[179\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-xbitSSDvsHD-179)[[200\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-Samsung_SSD_vs_HDD-200)[[201\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-oPAS0-201) | No moving parts, very resistant to [shock](https://en.wikipedia.org/wiki/Hard_disk_drive#Shock_resistance), vibration, movement, and contamination. | Heads flying above rapidly rotating platters are susceptible to  shock, vibration, movement, and contamination which could damage the  medium. |
| Installation and mounting                                    | Not sensitive to orientation, vibration, or shock. Usually no  exposed circuitry. Circuitry may be exposed in a card form device and it must not be short-circuited by conductive materials. | Circuitry may be exposed, and it must not be short-circuited by  conductive materials (such as the metal chassis of a computer). Should  be mounted to protect against vibration and shock. Some HDDs should not  be installed in a tilted position.[[202\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-hNumY-202) |
| Susceptibility to [magnetic fields](https://en.wikipedia.org/wiki/Magnetic_field) | Low impact on flash memory, but an [electromagnetic pulse](https://en.wikipedia.org/wiki/Electromagnetic_pulse) will damage any electrical system, especially [integrated circuits](https://en.wikipedia.org/wiki/Integrated_circuit). | In general, magnets or magnetic surges may result in data corruption or mechanical damage to the drive internals. Drive's metal case  provides a low level of shielding to the magnetic platters.[[203\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-HmN1J-203)[[204\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-iNClo-204)[[205\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-E75lR-205) |
| Weight and size[[200\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-Samsung_SSD_vs_HDD-200) | SSDs, essentially semiconductor memory devices mounted on a circuit  board, are small and lightweight. They often follow the same form  factors as HDDs (2.5-inch or 1.8-inch) or are bare PCBs (M.2 and mSATA). The enclosures on most mainstream models, if any, are made mostly of  plastic or lightweight metal. High performance models often have [heatsinks](https://en.wikipedia.org/wiki/Heatsink) attached to the device, or have bulky cases that serves as its heatsink, increasing its weight. | HDDs are generally heavier than SSDs, as the enclosures are made  mostly of metal, and they contain heavy objects such as motors and large magnets. 3.5-inch drives typically weigh around 700 grams (1.5 lb). |
| Secure writing limitations                                   | NAND flash memory cannot be overwritten, but has to be rewritten to previously erased blocks. If a software [encryption](https://en.wikipedia.org/wiki/Encryption) program encrypts data already on the SSD, the overwritten data is still unsecured, unencrypted, and accessible (drive-based hardware encryption does not have this problem). Also data cannot be securely erased by  overwriting the original file without special "Secure Erase" procedures  built into the drive.[[206\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-IDG_Communications-206) | HDDs can overwrite data directly on the drive in any particular  sector. However, the drive's firmware may exchange damaged blocks with  spare areas, so bits and pieces may still be present. Some  manufacturers' HDDs fill the entire drive with zeroes, including  relocated sectors, on ATA Secure Erase Enhanced Erase command.[[207\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-bMSLm-207) |
| Read/write performance symmetry                              | Less expensive SSDs typically have write speeds significantly lower  than their read speeds. Higher performing SSDs have similar read and  write speeds. | HDDs generally have slightly longer (worse) seek times for writing than for reading.[[208\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-OYMAz-208) |
| Free block availability and TRIM                             | SSD write performance is significantly impacted by the availability  of free, programmable blocks. Previously written data blocks no longer  in use can be reclaimed by [TRIM](https://en.wikipedia.org/wiki/Trim_(computing)); however, even with TRIM, fewer free blocks cause slower performance.[[80\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-SSD_Anthology-80)[[209\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-7wgIF-209)[[210\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-0xTpt-210) | HDDs are not affected by free blocks and do not benefit from TRIM. |
| Power consumption                                            | High performance flash-based SSDs generally require half to a third  of the power of HDDs. High-performance DRAM SSDs generally require as  much power as HDDs, and must be connected to power even when the rest of the system is shut down.[[211\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-a7wGO-211)[[212\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-8V1wD-212) Emerging technologies like [DevSlp](https://en.wikipedia.org/wiki/DevSlp) can minimize power requirements of idle drives. | The lowest-power HDDs (1.8-inch size) can use as little as 0.35 watts when idle.[[213\]](https://en.wikipedia.org/wiki/Solid-state_drive#cite_note-cBNjq-213) 2.5-inch drives typically use 2 to 5 watts. The highest-performance 3.5-inch drives can use up to about 20 watts. |

