# IPv6

> 0:0:0:0:0:0:0:1（记为 ::1）
>
> 等价于IPv4 127.0.0.1

[TOC]

IP 是互联网的核心协议。
互联网经过几十年的飞速发展，到 2011 年 2 月，IPv4 的 32 位地址已经耗尽。
ISP 已经不能再申请到新的 IP 地址块了。
我国在 2014 – 2015 年也逐步停止了向新用户和应用分配 IPv4 地址。
解决 IP 地址耗尽的根本措施就是采用具有更大地址空间的新版本的 IP，即 IPv6。

主要变化

- 更大的地址空间。IPv6 将地址从 IPv4 的 32 位 增大到了 ==128 位==。 
- 扩展的地址层次结构。 
- 灵活的首部格式。 IPv6 定义了许多可选的扩展首部。
- 改进的选项。 IPv6 允许数据报包含有选项的控制信息，其选项放在有效载荷中。

## 组成

- 基本首部 (base header)
- 有效载荷 (payload)。有效载荷也称为净负荷。有效载荷允许有零个或多个扩展首部 (extension header)，再后面是数据部分。

<img src="..\..\..\..\imgs\_Net\计算机网络\Snipaste_2020-08-23_18-34-30.png" style="zoom:80%;" />

## 冒号十六进制法

- 为了使地址再稍简洁些，IPv6 使用冒号十六进制记法(colon hexadecimal notation, 简写为 colon hex)。
- ==每16 位==的值用十六进制值表示，各值之间用冒号分隔。例如：
     68E6:8C64:FFFF:FFFF:0:1180:960A:FFFF
- 在十六进制记法中，==允许把数字前面的 0 省略（与零压缩不冲突）==。例如把 0000 中的前三个 0 省略，写成 1 个 0。
- 冒号十六进制记法可以允许零压缩 (zero compression)，即一连串连续的零可以为一对冒号所取代。
      FF05:0:0:0:0:0:0:B3    可压缩为：   
      FF05::B3
- 注意：==在任一地址中只能使用一次零压缩。==

- 冒号十六进制记法可结合使用点分十进制记法的后缀，这种结合在 IPv4 向 IPv6 的转换阶段特别有用。

  例如：0:0:0:0:0:0:128.10.2.1
      再使用零压缩即可得出：  ::128.10.2.1

- CIDR 的斜线表示法仍然可用。

  例如：60 位的前缀 12AB00000000CD3 可记为：
      12AB:0000:0000:CD30:0000:0000:0000:0000/60
  或 12AB::CD30:0:0:0:0/60 （零压缩）
  或 12AB:0:0:CD30::/60 （零压缩）

### 环回地址

==即 0:0:0:0:0:0:0:1（记为 ::1）。等价于IPv4 127.0.0.1==
