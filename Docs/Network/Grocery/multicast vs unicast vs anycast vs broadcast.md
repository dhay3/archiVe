# multicast/unicast/anycast/broadcast

ref:

https://support.huawei.com/enterprise/zh/doc/EDOC1100105907

https://www.baeldung.com/cs/multicast-vs-broadcast-anycast-unicast

https://www.zhihu.com/question/267097519

## Terms

只是一种网络模式

### anycast 任播

任播是主机间一对多的通讯模式，在任何给定时间，只有其中之一可以接收到源端的信息

### multicast 组播

> even if a group contains all the devices in a network, multicast is theoretically differnt from the broadcast
>
> 关播中包括所有的网络设备的端口都会收到，但是组播值针对特定的IP段

组播是主机间一对多的通讯模式，报文会被发送到组播组（一组主机）。

例如 192.168.80.0/24 的组播地址是 192.168.80.255

### unicast 单播

单播是主机间一对一的通讯模式，网络中的设备只会将单播的报文送到指定目的地。报文不会被网络设备复制。例如HTTP、Telenet、FTP、SMTP都使用单播

### broadcast 广播

广播是主机间一对所有的通讯模式，设备会将博文发送到网络中所有可能的接收者。设备会将他收到的广播报文都复制并转发到除该报文到达的接口外的每个接口。广播可能不会收到回应，或只有几台机器回应。例如 ARP、DHCP、NTP都使用广播

其中ARP使用的广播地址是ffff:ffff:ffff:ffff

DHCP使用的广播地址是255.255.255.255，在同一个广播域(由三层设备划分关播域，例如路由器)中所有的主机都会接收到广播的信息

## Example

用一个例子来解释，网络中有 ABCDE用户，现在只有ABC用户有接收数据源信息的要求

![2022-04-05_23-22](https://github.com/dhay3/image-repo/raw/master/20220405/2022-04-05_23-22.3ouphz49mla0.webp)

### 采用单播

使用单播，需要确保有流量需求的用户都能收到流量，数据源需要3份流量，相应的网络设备B也需要承载3份流量

![2022-04-05_23-32](https://github.com/dhay3/image-repo/raw/master/20220405/2022-04-05_23-32.1jnrbb0sky74.webp)

### 采用广播

使用广播，数据源值需要发送一份流量，有流量需求的用户可以收到流量，但是也因为关播的机制无流量需求的DE用户也收到了流量，存在流量冗余

![2022-04-05_23-35](https://github.com/dhay3/image-repo/raw/master/20220405/2022-04-05_23-35.55k7hqy9a040.webp)

### 采用组播

使用组播，数据源值发送一份流量，有流量需求的用户可以收到流量，而无流量需求的DE用户不会收到冗余的流量

![2022-04-05_23-37](https://github.com/dhay3/image-repo/raw/master/20220405/2022-04-05_23-37.p09tbrqfjz4.webp)

## 对比

| 传输方式 | 优势                                                         | 不足                                                         |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 单播方式 | 一份单播报文，使用一个单播地址作为目的地址。Source向每个Receiver地址发送一份独立的单播报文。如果网络中存在N个接收者，则组播源需要发送N份单播报文。络为每份单播报文执行独立的数据转发，形成一条独立的数据传送通路。N份单播报文形成N条相互独立的传输路径。 | 单播方式下，网络中传输的信息量和需求该信息的用户量成正比，当需求该信息的用户量较大时，网络中将出现多份相同信息流，不仅占用处理器资源而且浪费带宽。单播方式较适合用户稀少的网络，当用户量较大时很难保证网络传输质量。 |
| 广播方式 | 一份广播报文，使用一个广播地址作为目的地址。Source向本网段对应的广播地址发送且仅发送一份报文。不管是否有需求，保证报文被网段中的所有用户主机接收。 | 广播方式下，信息发送者与用户主机被限制在一个共享网段中，且该网段所有用户主机都能接收到该信息，这样会导致无信息需求的主机也收到该信息，网络中流量有冗余。广播方式只适合共享网段，且信息安全性和有偿服务得不到保障。 |
| 组播方式 | 一份组播报文，使用一个组播地址作为目的地址。Source（组播源）向一个组播地址发送且仅发送一份报文。网络中部署的组播协议为此组播报文建立一棵树型路由，根是Source，叶子是所有组播组成员。组播方式下，单一的信息流沿树型路径被同时发送给一组用户，相同的组播数据流在每一条链路上最多仅有一份。相比单播来说，使用组播方式传递信息，用户的增加不会显著增加网络的负载，减轻了服务器和CPU的负荷。组播报文可以跨网段传输，不需要此报文的用户不能收到此报文。相比广播来说，使用组播方式可以远距离传输信息，且只将信息传输到有接收者的地方，保障了信息的安全性。组播技术有效地解决了单点发送多点接收的问题，实现了IP网络中点到多点的高效数据传送。 | NA                                                           |