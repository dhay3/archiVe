<!DOCTYPE html>
<html lang="en"><script type="text/javascript">try {
(function injectPageScriptAPI(scriptName, shouldOverrideWebSocket, shouldOverrideWebRTC, isInjected) { 

    'use strict';

    /**
     * If script have been injected into a frame via contentWindow then we can simply take the copy of messageChannel left for us by parent document
     * Otherwise creates new message channel that sends a message to the content-script to check if request should be allowed or not.
     */
    var messageChannel = isInjected ? window[scriptName] : (function () {

        // Save original postMessage and addEventListener functions to prevent webpage from tampering both.
        var postMessage = window.postMessage;
        var addEventListener = window.addEventListener;

        // Current request ID (incremented every time we send a new message)
        var currentRequestId = 0;
        var requestsMap = {};

        /**
         * Handles messages sent from the content script back to the page script.
         *
         * @param event Event with necessary data
         */
        var onMessageReceived = function (event) {

            if (!event.data || !event.data.direction || event.data.direction !== "to-page-script@abu") {
                return;
            }

            var requestData = requestsMap[event.data.requestId];
            if (requestData) {
                var wrapper = requestData.wrapper;
                requestData.onResponseReceived(wrapper, event.data.block);
                delete requestsMap[event.data.requestId];
            }
        };

        /**
         * @param url                The URL to which wrapped object is willing to connect
         * @param requestType        Request type ( WEBSOCKET or WEBRTC)
         * @param wrapper            WebSocket wrapper instance
         * @param onResponseReceived Called when response is received
         */
        var sendMessage = function (url, requestType, wrapper, onResponseReceived) {

            if (currentRequestId === 0) {
                // Subscribe to response when this method is called for the first time
                addEventListener.call(window, "message", onMessageReceived, false);
            }

            var requestId = ++currentRequestId;
            requestsMap[requestId] = {
                wrapper: wrapper,
                onResponseReceived: onResponseReceived
            };

            var message = {
                requestId: requestId,
                direction: 'from-page-script@abu',
                elementUrl: url,
                documentUrl: document.URL,
                requestType: requestType
            };

            // Send a message to the background page to check if the request should be blocked
            postMessage.call(window, message, "*");
        };

        return {
            sendMessage: sendMessage
        };

    })();

    /*
     * In some case Chrome won't run content scripts inside frames.
     * So we have to intercept access to contentWindow/contentDocument and manually inject wrapper script into this context
     *
     * Based on: https://github.com/adblockplus/adblockpluschrome/commit/1aabfb3346dc0821c52dd9e97f7d61b8c99cd707
     */
    var injectedToString = Function.prototype.toString.bind(injectPageScriptAPI);

    var injectedFramesAdd;
    var injectedFramesHas;
    if (window.WeakSet instanceof Function) {
        var injectedFrames = new WeakSet();
        injectedFramesAdd = WeakSet.prototype.add.bind(injectedFrames);
        injectedFramesHas = WeakSet.prototype.has.bind(injectedFrames);
    } else {
        var frames = [];
        injectedFramesAdd = function (el) {
            if (frames.indexOf(el) < 0) {
                frames.push(el);
            }
        };
        injectedFramesHas = function (el) {
            return frames.indexOf(el) >= 0;
        };
    }

    /**
     * Injects wrapper's script into passed window
     * @param contentWindow Frame's content window
     */
    function injectPageScriptAPIInWindow(contentWindow) {
        try {
            if (contentWindow && !injectedFramesHas(contentWindow)) {
                injectedFramesAdd(contentWindow);
                contentWindow[scriptName] = messageChannel; // Left message channel for the injected script
                var args = "'" + scriptName + "', " + shouldOverrideWebSocket + ", " + shouldOverrideWebRTC + ", true";
                contentWindow.eval("(" + injectedToString() + ")(" + args + ");");
                delete contentWindow[scriptName];
            }
        } catch (e) {
        }
    }

    /**
     * Overrides access to contentWindow/contentDocument for the passed HTML element's interface (iframe, frame, object)
     * If the content of one of these objects is requested we will inject our wrapper script.
     * @param iface HTML element's interface
     */
    function overrideContentAccess(iface) {

        var contentWindowDescriptor = Object.getOwnPropertyDescriptor(iface.prototype, "contentWindow");
        var contentDocumentDescriptor = Object.getOwnPropertyDescriptor(iface.prototype, "contentDocument");

        // Apparently in HTMLObjectElement.prototype.contentWindow does not exist
        // in older versions of Chrome such as 42.
        if (!contentWindowDescriptor) {
            return;
        }

        var getContentWindow = Function.prototype.call.bind(contentWindowDescriptor.get);
        var getContentDocument = Function.prototype.call.bind(contentDocumentDescriptor.get);

        contentWindowDescriptor.get = function () {
            var contentWindow = getContentWindow(this);
            injectPageScriptAPIInWindow(contentWindow);
            return contentWindow;
        };
        contentDocumentDescriptor.get = function () {
            injectPageScriptAPIInWindow(getContentWindow(this));
            return getContentDocument(this);
        };

        Object.defineProperty(iface.prototype, "contentWindow", contentWindowDescriptor);
        Object.defineProperty(iface.prototype, "contentDocument", contentDocumentDescriptor);
    }

    var interfaces = [HTMLFrameElement, HTMLIFrameElement, HTMLObjectElement];
    for (var i = 0; i < interfaces.length; i++) {
        overrideContentAccess(interfaces[i]);
    }

    /**
     * Defines properties in destination object
     * @param src Source object
     * @param dest Destination object
     * @param properties Properties to copy
     */
    var copyProperties = function (src, dest, properties) {
        for (var i = 0; i < properties.length; i++) {
            var prop = properties[i];
            var descriptor = Object.getOwnPropertyDescriptor(src, prop);
            // Passed property may be undefined
            if (descriptor) {
                Object.defineProperty(dest, prop, descriptor);
            }
        }
    };

    /**
     * Check request by sending message to content script
     * @param url URL to block
     * @param type Request type
     * @param callback Result callback
     */
    var checkRequest = function (url, type, callback) {
        messageChannel.sendMessage(url, type, this, function (wrapper, blockConnection) {
            callback(blockConnection);
        });
    };

    /**
     * The function overrides window.WebSocket with our wrapper, that will check url with filters through messaging with content-script.
     *
     * IMPORTANT NOTE:
     * This function is first loaded as a content script. The only purpose of it is to call
     * the "toString" method and use resulting string as a text content for injected script.
     */
    var overrideWebSocket = function () { 

        if (!(window.WebSocket instanceof Function)) {
            return;
        }

        /**
         * WebSocket wrapper implementation.
         * https://github.com/AdguardTeam/AdguardBrowserExtension/issues/349
         *
         * Based on:
         * https://github.com/adblockplus/adblockpluschrome/commit/457a336ee55a433217c3ffe5d363e5c6980f26f4
         */

        /**
         * As far as possible we must track everything we use that could be sabotaged by the website later in order to circumvent us.
         */
        var RealWebSocket = WebSocket;
        var closeWebSocket = Function.prototype.call.bind(RealWebSocket.prototype.close);

        function WrappedWebSocket(url, protocols) {
            // Throw correct exceptions if the constructor is used improperly.
            if (!(this instanceof WrappedWebSocket)) {
                return RealWebSocket();
            }
            if (arguments.length < 1) {
                return new RealWebSocket();
            }

            var websocket = new RealWebSocket(url, protocols);

            // This is the key point: checking if this WS should be blocked or not
            // Don't forget that the type of 'websocket.url' is String, but 'url 'parameter might have another type.
            checkRequest(websocket.url, 'WEBSOCKET', function (blocked) {
                if (blocked) {
                    closeWebSocket(websocket);
                }
            });

            return websocket;
        }

        // https://github.com/AdguardTeam/AdguardBrowserExtension/issues/488
        WrappedWebSocket.prototype = RealWebSocket.prototype;
        window.WebSocket = WrappedWebSocket.bind();

        copyProperties(RealWebSocket, WebSocket, ["CONNECTING", "OPEN", "CLOSING", "CLOSED", "name", "prototype"]);

        RealWebSocket.prototype.constructor = WebSocket;

    };

    /**
     * The function overrides window.RTCPeerConnection with our wrapper, that will check ice servers URLs with filters through messaging with content-script.
     *
     * IMPORTANT NOTE:
     * This function is first loaded as a content script. The only purpose of it is to call
     * the "toString" method and use resulting string as a text content for injected script.
     */
    var overrideWebRTC = function () { 


        if (!(window.RTCPeerConnection instanceof Function) &&
            !(window.webkitRTCPeerConnection instanceof Function)) {
            return;
        }

        /**
         * RTCPeerConnection wrapper implementation.
         * https://github.com/AdguardTeam/AdguardBrowserExtension/issues/588
         *
         * Based on:
         * https://github.com/adblockplus/adblockpluschrome/commit/af0585137be19011eace1cf68bf61eed2e6db974
         *
         * Chromium webRequest API doesn't allow the blocking of WebRTC connections
         * https://bugs.chromium.org/p/chromium/issues/detail?id=707683
         */

        var RealRTCPeerConnection = window.RTCPeerConnection || window.webkitRTCPeerConnection;
        var closeRTCPeerConnection = Function.prototype.call.bind(RealRTCPeerConnection.prototype.close);

        var RealArray = Array;
        var RealString = String;
        var createObject = Object.create;
        var defineProperty = Object.defineProperty;

        /**
         * Convert passed url to string
         * @param url URL
         * @returns {string}
         */
        function urlToString(url) {
            if (typeof url !== "undefined") {
                return RealString(url);
            }
        }

        /**
         * Creates new immutable array from original with some transform function
         * @param original
         * @param transform
         * @returns {*}
         */
        function safeCopyArray(original, transform) {

            if (original === null || typeof original !== "object") {
                return original;
            }

            var immutable = RealArray(original.length);
            for (var i = 0; i < immutable.length; i++) {
                defineProperty(immutable, i, {
                    configurable: false, enumerable: false, writable: false,
                    value: transform(original[i])
                });
            }
            defineProperty(immutable, "length", {
                configurable: false, enumerable: false, writable: false,
                value: immutable.length
            });
            return immutable;
        }

        /**
         * Protect configuration from mutations
         * @param configuration RTCPeerConnection configuration object
         * @returns {*}
         */
        function protectConfiguration(configuration) {

            if (configuration === null || typeof configuration !== "object") {
                return configuration;
            }

            var iceServers = safeCopyArray(
                configuration.iceServers,
                function (iceServer) {

                    var url = iceServer.url;
                    var urls = iceServer.urls;

                    // RTCPeerConnection doesn't iterate through pseudo Arrays of urls.
                    if (typeof urls !== "undefined" && !(urls instanceof RealArray)) {
                        urls = [urls];
                    }

                    return createObject(iceServer, {
                        url: {
                            configurable: false, enumerable: false, writable: false,
                            value: urlToString(url)
                        },
                        urls: {
                            configurable: false, enumerable: false, writable: false,
                            value: safeCopyArray(urls, urlToString)
                        }
                    });
                }
            );

            return createObject(configuration, {
                iceServers: {
                    configurable: false, enumerable: false, writable: false,
                    value: iceServers
                }
            });
        }

        /**
         * Check WebRTC connection's URL and close if it's blocked by rule
         * @param connection Connection
         * @param url URL to check
         */
        function checkWebRTCRequest(connection, url) {
            checkRequest(url, 'WEBRTC', function (blocked) {
                if (blocked) {
                    try {
                        closeRTCPeerConnection(connection);
                    } catch (e) {
                        // Ignore exceptions
                    }
                }
            });
        }

        /**
         * Check each URL of ice server in configuration for blocking.
         *
         * @param connection RTCPeerConnection
         * @param configuration Configuration for RTCPeerConnection
         * https://developer.mozilla.org/en-US/docs/Web/API/RTCConfiguration
         */
        function checkConfiguration(connection, configuration) {

            if (!configuration || !configuration.iceServers) {
                return;
            }

            var iceServers = configuration.iceServers;
            for (var i = 0; i < iceServers.length; i++) {

                var iceServer = iceServers[i];
                if (!iceServer) {
                    continue;
                }

                if (iceServer.url) {
                    checkWebRTCRequest(connection, iceServer.url);
                }

                if (iceServer.urls) {
                    for (var j = 0; j < iceServer.urls.length; j++) {
                        checkWebRTCRequest(connection, iceServer.urls[j]);
                    }
                }
            }
        }

        /**
         * Overrides setConfiguration method
         * https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/setConfiguration
         */
        if (RealRTCPeerConnection.prototype.setConfiguration) {

            var realSetConfiguration = Function.prototype.call.bind(RealRTCPeerConnection.prototype.setConfiguration);

            RealRTCPeerConnection.prototype.setConfiguration = function (configuration) {
                configuration = protectConfiguration(configuration);
                // Call the real method first, so that validates the configuration
                realSetConfiguration(this, configuration);
                checkConfiguration(this, configuration);
            };
        }

        function WrappedRTCPeerConnection(configuration, arg) {

            if (!(this instanceof WrappedRTCPeerConnection)) {
                return RealRTCPeerConnection();
            }

            configuration = protectConfiguration(configuration);

            /**
             * The old webkitRTCPeerConnection constructor takes an optional second argument and we must pass it.
             */
            var connection = new RealRTCPeerConnection(configuration, arg);
            checkConfiguration(connection, configuration);
            return connection;
        }

        WrappedRTCPeerConnection.prototype = RealRTCPeerConnection.prototype;

        var boundWrappedRTCPeerConnection = WrappedRTCPeerConnection.bind();
        copyProperties(RealRTCPeerConnection, boundWrappedRTCPeerConnection, ["caller", "generateCertificate", "name", "prototype"]);
        RealRTCPeerConnection.prototype.constructor = boundWrappedRTCPeerConnection;

        if ("RTCPeerConnection" in window) {
            window.RTCPeerConnection = boundWrappedRTCPeerConnection;
        }
        if ("webkitRTCPeerConnection" in window) {
            window.webkitRTCPeerConnection = boundWrappedRTCPeerConnection;
        }
    };

    if (shouldOverrideWebSocket) {
        overrideWebSocket();
    }

    if (shouldOverrideWebRTC) {
        overrideWebRTC();
    }
})('wrapper-script-2740274661218518', false, true);
} catch (ex) { console.error('Error executing AG js: ' + ex); }
(function () {
            var current = document.currentScript;
            var parent = current && current.parentNode;
            if (parent) {
                parent.removeChild(current);
            }
        })();</script><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Vim help pages, always up-to-date">
<title>Vim: usr_30.txt</title>
<link rel="shortcut icon" href="https://vimhelp.org/favicon.ico">
<!-- favicon is based on http://amnoid.de/tmp/vim_solidbright_512.png and is used with permission by its author -->
<link rel="stylesheet" href="Vim%20usr_30.txt_Editing%20programs_files/vimhelp.css" type="text/css">

<link rel="stylesheet" class="select2-css" href="Vim%20usr_30.txt_Editing%20programs_files/select2.min.css" integrity="sha256-zaSoHBhwFdle0scfGEFUCwggPN7F+ip9XRglo8IWb4w=" crossorigin="anonymous">
<script defer="defer" src="Vim%20usr_30.txt_Editing%20programs_files/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script defer="defer" src="Vim%20usr_30.txt_Editing%20programs_files/select2.min.js" integrity="sha256-9yRP/2EFlblE92vzCA10469Ctd0jT48HnmmMw5rJZrA=" crossorigin="anonymous"></script>
<script defer="defer" src="Vim%20usr_30.txt_Editing%20programs_files/vimhelp.js"></script>
</head><body>
<div class="bar">
  <div class="ql">
Quick links:
<a href="https://vimhelp.org/">help overview</a> 路
<a href="https://vimhelp.org/quickref.txt.html">quick reference</a> 路
<a href="https://vimhelp.org/usr_toc.txt.html">user manual toc</a> 路
<a href="https://vimhelp.org/#reference_toc">reference manual toc</a>
路 <a href="https://vimhelp.org/vim_faq.txt.html">faq</a></div>
  <div class="srch">
    <select id="vh-select-tag" data-select2-id="select2-data-vh-select-tag" tabindex="-1" class="select2-hidden-accessible" aria-hidden="true" style="display: inline-block;"></select><span class="select2 select2-container select2-container--default" dir="ltr" data-select2-id="select2-data-1-kin7" style="width: 100%;"><span class="selection"><span class="select2-selection select2-selection--single" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-disabled="false" aria-labelledby="select2-vh-select-tag-container" aria-controls="select2-vh-select-tag-container"><span class="select2-selection__rendered" id="select2-vh-select-tag-container" role="textbox" aria-readonly="true" title="Go to keyword"><span class="select2-selection__placeholder">Go to keyword</span></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>
  </div>
  <form class="srch" action="https://duckduckgo.com" method="get" target="_blank" rel="noopener noreferrer">
    <input type="hidden" name="sites" value="vimhelp.org">
    <input type="search" name="q" id="vh-srch-input" placeholder="Site search">
  </form>
</div>

<main>
<div id="vh-content">
<pre><span id="usr_30.txt" class="t">usr_30.txt</span>    For <span class="i">Vim version 9.0.</span>  Last change: 2007 Nov 10

                     VIM USER MANUAL <a href="https://vimhelp.org/motion.txt.html#-" class="d">-</a> by <a href="https://vimhelp.org/intro.txt.html#Bram" class="d">Bram</a> <a href="https://vimhelp.org/intro.txt.html#Moolenaar" class="d">Moolenaar</a>

                              Editing programs


Vim has <a href="https://vimhelp.org/various.txt.html#various" class="d">various</a> commands that aid in <a href="https://vimhelp.org/editing.txt.html#writing" class="d">writing</a> computer programs.  Compile <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a>
program and directly jump to reported errors.  Automatically set the indent
for many languages and format comments.

<a href="#30.1" class="l">30.1</a>  Compiling
<a href="#30.2" class="l">30.2</a>  Indenting <a href="https://vimhelp.org/change.txt.html#C" class="d">C</a> files
<a href="#30.3" class="l">30.3</a>  Automatic indenting
<a href="#30.4" class="l">30.4</a>  Other indenting
<a href="#30.5" class="l">30.5</a>  Tabs and spaces
<a href="#30.6" class="l">30.6</a>  Formatting comments

     Next chapter: <a href="https://vimhelp.org/usr_31.txt.html#usr_31.txt" class="l">usr_31.txt</a>  Exploiting the <a href="https://vimhelp.org/gui.txt.html#GUI" class="d">GUI</a>
 Previous chapter: <a href="https://vimhelp.org/usr_29.txt.html#usr_29.txt" class="l">usr_29.txt</a>  Moving through programs
Table of contents: <a href="https://vimhelp.org/usr_toc.txt.html#usr_toc.txt" class="l">usr_toc.txt</a>

<span class="h">==============================================================================</span>
<span id="30.1" class="t">30.1</span>  Compiling

Vim has <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> set of so called "<a href="https://vimhelp.org/quickfix.txt.html#quickfix" class="d">quickfix</a>" commands.  They enable you to compile <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a>
program from within Vim and then <a href="https://vimhelp.org/motion.txt.html#go" class="d">go</a> through the <a href="https://vimhelp.org/message.txt.html#errors" class="d">errors</a> generated and fix them
(hopefully).  You can then recompile and fix any new <a href="https://vimhelp.org/message.txt.html#errors" class="d">errors</a> that are found
until finally your program compiles without any error.

The following command runs the program "make" (supplying <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> with any argument
you give) and captures the results: 
<span class="e"></span>
<span class="e">        :make {arguments}</span>
<span class="e"></span>
If <a href="https://vimhelp.org/message.txt.html#errors" class="d">errors</a> were generated, they are captured and the editor positions you where
the first error occurred.
   Take <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> look <a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a> an example "<a href="https://vimhelp.org/quickfix.txt.html#%3Amake" class="d">:make</a>" session.  (Typical <a href="https://vimhelp.org/quickfix.txt.html#%3Amake" class="d">:make</a> sessions generate
far more <a href="https://vimhelp.org/message.txt.html#errors" class="d">errors</a> and fewer stupid ones.)  After typing "<a href="https://vimhelp.org/quickfix.txt.html#%3Amake" class="d">:make</a>" the screen looks
like this:

<span class="h">        :!make | &amp;tee /tmp/vim215953.err </span>
<span class="h">        gcc -g -Wall -o prog main.c sub.c </span>
<span class="h">        main.c: In function 'main': </span>
<span class="h">        main.c:6: too many arguments to function 'do_sub' </span>
<span class="h">        main.c: At top level: </span>
<span class="h">        main.c:10: parse error before '}' </span>
<span class="h">        make: *** [prog] Error 1 </span>

<span class="h">        2 returned </span>
<span class="h">        "main.c" 11L, 111C </span>
<span class="h">        (3 of 6): too many arguments to function 'do_sub' </span>
<span class="h">        Press ENTER or type command to continue </span>

From this you can see that you have <a href="https://vimhelp.org/message.txt.html#errors" class="d">errors</a> in the file "main.c"<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>  When you
press <a href="https://vimhelp.org/intro.txt.html#%3CEnter%3E" class="s">&lt;Enter&gt;</a>, Vim displays the file "main.c"<a href="https://vimhelp.org/motion.txt.html#%2C" class="d">,</a> with the cursor positioned on
line 6, the first line with an error.  You did not need to specify the file or
the line number, Vim knew where to <a href="https://vimhelp.org/motion.txt.html#go" class="d">go</a> by looking in the error messages.

                +---------------------------------------------------+
                |int main()                                         |
                |<a href="https://vimhelp.org/motion.txt.html#%7B" class="d">{</a>                                                  |
                |       int i=3;                                    |
      cursor <a href="https://vimhelp.org/eval.txt.html#-%3E" class="d">-&gt;</a> |       do_sub("foo");                              |
                |       ++i;                                        |
                |       return (0);                                 |
                |<a href="https://vimhelp.org/motion.txt.html#%7D" class="d">}</a>                                                  |
                |<a href="https://vimhelp.org/motion.txt.html#%7D" class="d">}</a>                                                  |
                | <a href="https://vimhelp.org/change.txt.html#~" class="d">~</a>                                                 |
                |(3 of 12): too many arguments to function 'do_sub' |
                +---------------------------------------------------+

The following command goes to where the next error occurs: 
<span class="e"></span>
<span class="e">        :cnext</span>
<span class="e"></span>
Vim jumps to line 10, the last line in the file, where there <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> an extra '}'.
   When there <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> not enough room, Vim will shorten the error message.  To see
the whole message use: 
<span class="e"></span>
<span class="e">        :cc</span>
<span class="e"></span>
You can get an overview of all the error <a href="https://vimhelp.org/message.txt.html#messages" class="d">messages</a> with the "<a href="https://vimhelp.org/quickfix.txt.html#%3Aclist" class="d">:clist</a>" command.
The output looks like this: 
<span class="e"></span>
<span class="e">        :clist</span>
<span class="h">       3 main.c: 6:too many arguments to function 'do_sub' </span>
<span class="h">        5 main.c: 10:parse error before '}' </span>

Only the lines where Vim recognized <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> file name and line number are listed
here.  It assumes those are the interesting lines and the rest <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> just boring
messages.  However, sometimes unrecognized lines <a href="https://vimhelp.org/diff.txt.html#do" class="d">do</a> contain something you want
to see.  Output from the linker, for example, about an undefined function.
To see all the <a href="https://vimhelp.org/message.txt.html#messages" class="d">messages</a> add <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> "<a href="https://vimhelp.org/change.txt.html#%21" class="d">!</a>" to the command: 
<span class="e"></span>
<span class="e">        :clist!</span>
<span class="h">       1 gcc -g -Wall -o prog main.c sub.c </span>
<span class="h">        2 main.c: In function 'main': </span>
<span class="h">        3 main.c:6: too many arguments to function 'do_sub' </span>
<span class="h">        4 main.c: At top level: </span>
<span class="h">        5 main.c:10: parse error before '}' </span>
<span class="h">        6 make: *** [prog] Error 1 </span>

Vim will highlight the current error.  To <a href="https://vimhelp.org/motion.txt.html#go" class="d">go</a> back to the previous error, use:

<span class="e">        :cprevious</span>
<span class="e"></span>
Other commands to move around in the error list:

        <a href="https://vimhelp.org/quickfix.txt.html#%3Acfirst" class="d">:cfirst</a>         to first error
        <a href="https://vimhelp.org/quickfix.txt.html#%3Aclast" class="d">:clast</a>          to last error
        <a href="https://vimhelp.org/quickfix.txt.html#%3Acc" class="d">:cc</a> 3           to error nr 3


<span class="c">USING ANOTHER COMPILER</span>

The name of the program to run when the "<a href="https://vimhelp.org/quickfix.txt.html#%3Amake" class="d">:make</a>" command <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> executed <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> defined
by the <a href="https://vimhelp.org/options.txt.html#%27makeprg%27" class="o">'makeprg'</a> option.  Usually this <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> set to "make"<a href="https://vimhelp.org/motion.txt.html#%2C" class="d">,</a> but <a href="https://vimhelp.org/visual.txt.html#Visual" class="d">Visual</a> C++ users
should set this to "nmake" by executing the following command: 
<span class="e"></span>
<span class="e">        :set makeprg=nmake</span>
<span class="e"></span>
You can also include arguments in this option.  <a href="https://vimhelp.org/eval.txt.html#Special" class="d">Special</a> characters need to
be escaped with <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> backslash.  Example: 
<span class="e"></span>
<span class="e">        :set makeprg=nmake\ -f\ project.mak</span>
<span class="e"></span>
You can include special Vim keywords in the command specification.  The <a href="https://vimhelp.org/motion.txt.html#%25" class="d">%</a>
character expands to the name of the current file.  So if you execute the
command: 
<span class="e">        :set makeprg=make\ %:S</span>
<span class="e"></span>
When you are editing main.c, then "<a href="https://vimhelp.org/quickfix.txt.html#%3Amake" class="d">:make</a>" executes the following command: 
<span class="e"></span>
<span class="e">        make main.c</span>
<span class="e"></span>
This <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> not too useful, so you will refine the command <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> little and use the <a href="https://vimhelp.org/insert.txt.html#%3Ar" class="d">:r</a>
(root) modifier: 
<span class="e"></span>
<span class="e">        :set makeprg=make\ %:r:S.o</span>
<span class="e"></span>
Now the command executed <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> follows: 
<span class="e"></span>
<span class="e">        make main.o</span>
<span class="e"></span>
More about these modifiers here: <a href="https://vimhelp.org/cmdline.txt.html#filename-modifiers" class="l">filename-modifiers</a><a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>


<span class="c">OLD ERROR LISTS</span>

Suppose you "<a href="https://vimhelp.org/quickfix.txt.html#%3Amake" class="d">:make</a>" <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> program.  There <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> warning message in one file and an
error message in another.  You fix the error and use "<a href="https://vimhelp.org/quickfix.txt.html#%3Amake" class="d">:make</a>" again to check if
<a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> was really fixed.  Now you want to look <a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a> the warning message.  It doesn't
show up in the last error list, since the file with the warning wasn't
compiled again.  You can <a href="https://vimhelp.org/motion.txt.html#go" class="d">go</a> back to the previous error <a href="https://vimhelp.org/eval.txt.html#list" class="d">list</a> with: 
<span class="e"></span>
<span class="e">        :colder</span>
<span class="e"></span>
Then use "<a href="https://vimhelp.org/quickfix.txt.html#%3Aclist" class="d">:clist</a>" and "<a href="https://vimhelp.org/quickfix.txt.html#%3Acc" class="d">:cc</a> <span class="s">{nr}</span>" to jump to the place with the warning.
   To <a href="https://vimhelp.org/motion.txt.html#go" class="d">go</a> forward to the next error list: 
<span class="e"></span>
<span class="e">        :cnewer</span>
<span class="e"></span>
Vim remembers ten error lists.


<span class="c">SWITCHING COMPILERS</span>

You have to tell Vim what format the error <a href="https://vimhelp.org/message.txt.html#messages" class="d">messages</a> are that your compiler
produces.  This <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> done with the <a href="https://vimhelp.org/options.txt.html#%27errorformat%27" class="o">'errorformat'</a> option.  The <a href="https://vimhelp.org/syntax.txt.html#syntax" class="d">syntax</a> of this
option <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> quite complicated and <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> can be made to fit almost any compiler.
You can find the explanation here: <a href="https://vimhelp.org/quickfix.txt.html#errorformat" class="l">errorformat</a><a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>

You might be using <a href="https://vimhelp.org/various.txt.html#various" class="d">various</a> different compilers.  Setting the <a href="https://vimhelp.org/options.txt.html#%27makeprg%27" class="o">'makeprg'</a> option,
and especially the <a href="https://vimhelp.org/options.txt.html#%27errorformat%27" class="o">'errorformat'</a> each time <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> not easy.  Vim offers <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> simple
<a href="https://vimhelp.org/eval.txt.html#method" class="d">method</a> for this.  For example, to switch to using the Microsoft <a href="https://vimhelp.org/visual.txt.html#Visual" class="d">Visual</a> C++
compiler: 
<span class="e"></span>
<span class="e">        :compiler msvc</span>
<span class="e"></span>
This will find the Vim <a href="https://vimhelp.org/usr_41.txt.html#script" class="d">script</a> for the "msvc" compiler and set the appropriate
options.
   You can write your own compiler files.  See <a href="https://vimhelp.org/usr_51.txt.html#write-compiler-plugin" class="l">write-compiler-plugin</a><a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>


<span class="c">OUTPUT REDIRECTION</span>

The "<a href="https://vimhelp.org/quickfix.txt.html#%3Amake" class="d">:make</a>" command redirects the output of the executed program to an error
file.  How this works depends on <a href="https://vimhelp.org/various.txt.html#various" class="d">various</a> things, such <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> the <a href="https://vimhelp.org/options.txt.html#%27shell%27" class="o">'shell'</a>.  If your
"<a href="https://vimhelp.org/quickfix.txt.html#%3Amake" class="d">:make</a>" command doesn't capture the output, check the <a href="https://vimhelp.org/options.txt.html#%27makeef%27" class="o">'makeef'</a> and
<a href="https://vimhelp.org/options.txt.html#%27shellpipe%27" class="o">'shellpipe'</a> options.  The <a href="https://vimhelp.org/options.txt.html#%27shellquote%27" class="o">'shellquote'</a> and <a href="https://vimhelp.org/options.txt.html#%27shellxquote%27" class="o">'shellxquote'</a> <a href="https://vimhelp.org/options.txt.html#options" class="d">options</a> might also
matter.

In <a href="https://vimhelp.org/change.txt.html#case" class="d">case</a> you can't get "<a href="https://vimhelp.org/quickfix.txt.html#%3Amake" class="d">:make</a>" to redirect the file for you, an alternative <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a>
to compile the program in another <a href="https://vimhelp.org/windows.txt.html#window" class="d">window</a> and redirect the output into <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> file.
Then have Vim read this file with: 
<span class="e"></span>
<span class="e">        :cfile {filename}</span>
<span class="e"></span>
Jumping to <a href="https://vimhelp.org/message.txt.html#errors" class="d">errors</a> will work like with the "<a href="https://vimhelp.org/quickfix.txt.html#%3Amake" class="d">:make</a>" command.

<span class="h">==============================================================================</span>
<span id="30.2" class="t">30.2</span>  Indenting <a href="https://vimhelp.org/change.txt.html#C" class="d">C</a> style text

<a href="https://vimhelp.org/insert.txt.html#A" class="d">A</a> program <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> much easier to understand when the lines have been properly
indented.  Vim offers <a href="https://vimhelp.org/various.txt.html#various" class="d">various</a> ways to make this <a href="https://vimhelp.org/various.txt.html#less" class="d">less</a> work.  For <a href="https://vimhelp.org/change.txt.html#C" class="d">C</a> or <a href="https://vimhelp.org/change.txt.html#C" class="d">C</a> style
programs like Java or C++, set the <a href="https://vimhelp.org/options.txt.html#%27cindent%27" class="o">'cindent'</a> option.  Vim knows <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> lot about <a href="https://vimhelp.org/change.txt.html#C" class="d">C</a>
programs and will try very hard to automatically set the indent for you.  Set
the <a href="https://vimhelp.org/options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a> option to the amount of spaces you want for <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> deeper level.
Four spaces will work fine.  One "<a href="https://vimhelp.org/options.txt.html#%3Aset" class="d">:set</a>" command will <a href="https://vimhelp.org/diff.txt.html#do" class="d">do</a> it: 
<span class="e"></span>
<span class="e">        :set cindent shiftwidth=4</span>
<span class="e"></span>
With this option enabled, when you type something such <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> "if (x)"<a href="https://vimhelp.org/motion.txt.html#%2C" class="d">,</a> the next
line will automatically be indented an additional level.

                                    if (flag)
        Automatic indent   ---&gt;         do_the_work();
        Automatic unindent &lt;--      if (other_flag) <a href="https://vimhelp.org/motion.txt.html#%7B" class="d">{</a>
        Automatic indent   ---&gt;         do_file();
        keep indent                     do_some_more();
        Automatic unindent &lt;--      <a href="https://vimhelp.org/motion.txt.html#%7D" class="d">}</a>

When you type something in curly braces ({}), the text will be indented <a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a> the
start and unindented <a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a> the end.  The unindenting will happen after typing the
'}', since Vim can't guess what you are going to type.

One side effect of automatic indentation <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> that <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> helps you catch <a href="https://vimhelp.org/message.txt.html#errors" class="d">errors</a> in
your code early.  When you type <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/motion.txt.html#%7D" class="d">}</a> to finish <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> function, only to find that
the automatic indentation gives <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> more indent than what you expected, there
<a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> probably <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/motion.txt.html#%7D" class="d">}</a> missing.  Use the "<a href="https://vimhelp.org/motion.txt.html#%25" class="d">%</a>" command to find out which <a href="https://vimhelp.org/motion.txt.html#%7B" class="d">{</a> matches the
<a href="https://vimhelp.org/motion.txt.html#%7D" class="d">}</a> you typed.
   <a href="https://vimhelp.org/insert.txt.html#A" class="d">A</a> missing <a href="https://vimhelp.org/motion.txt.html#%29" class="d">)</a> and <a href="https://vimhelp.org/motion.txt.html#%3B" class="d">;</a> also cause extra indent.  Thus if you get more white
<a href="https://vimhelp.org/intro.txt.html#space" class="d">space</a> than you would expect, check the preceding lines.

When you have code that <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> badly formatted, or you inserted and deleted lines,
you need to re-indent the lines.  The "<a href="https://vimhelp.org/change.txt.html#%3D" class="d">=</a>" <a href="https://vimhelp.org/motion.txt.html#operator" class="d">operator</a> does this.  The simplest
form is: 
<span class="e"></span>
<span class="e">        ==</span>
<span class="e"></span>
This indents the current line.  Like with all operators, there are three ways
to use it.  In <a href="https://vimhelp.org/visual.txt.html#Visual" class="d">Visual</a> mode "<a href="https://vimhelp.org/change.txt.html#%3D" class="d">=</a>" indents the selected lines.  <a href="https://vimhelp.org/insert.txt.html#A" class="d">A</a> useful text
object <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> "<a href="https://vimhelp.org/motion.txt.html#a%7B" class="d">a{</a>"<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>  This selects the current <a href="https://vimhelp.org/intro.txt.html#%7B%7D" class="d">{}</a> block.  Thus, to re-indent the
code block the cursor <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> in: 
<span class="e"></span>
<span class="e">        =a{</span>
<span class="e"></span>
<a href="https://vimhelp.org/insert.txt.html#I" class="d">I</a> you have really badly indented code, you can re-indent the whole file with:

<span class="e">        gg=G</span>
<span class="e"></span>
However, don't <a href="https://vimhelp.org/diff.txt.html#do" class="d">do</a> this in files that have been carefully indented manually.
The automatic indenting does <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> good job, but in some situations you might want
to overrule it.


<span class="c">SETTING INDENT STYLE</span>

Different people have different styles of indentation.  By default Vim does <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a>
pretty good <a href="https://vimhelp.org/channel.txt.html#job" class="d">job</a> of indenting in <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> way that 90% of programmers do.  There are
different styles, however; so if you want to, you can customize the
indentation style with the <a href="https://vimhelp.org/options.txt.html#%27cinoptions%27" class="o">'cinoptions'</a> option.
   By default <a href="https://vimhelp.org/options.txt.html#%27cinoptions%27" class="o">'cinoptions'</a> <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> empty and Vim uses the default style.  You can
add <a href="https://vimhelp.org/various.txt.html#various" class="d">various</a> items where you want something different.  For example, to make
curly braces be placed like this:

<span class="h">        if (flag) </span>
<span class="h">          { </span>
<span class="h">            i = 8; </span>
<span class="h">            j = 0; </span>
<span class="h">          } </span>

Use this command: 
<span class="e"></span>
<span class="e">        :set cinoptions+={2</span>
<span class="e"></span>
There are many of these items.  See <a href="https://vimhelp.org/indent.txt.html#cinoptions-values" class="l">cinoptions-values</a><a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>

<span class="h">==============================================================================</span>
<span id="30.3" class="t">30.3</span>  Automatic indenting

You don't want to switch on the <a href="https://vimhelp.org/options.txt.html#%27cindent%27" class="o">'cindent'</a> option manually every time you edit
<a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/change.txt.html#C" class="d">C</a> file.  This <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> how you make <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> work automatically: 
<span class="e"></span>
<span class="e">        :filetype indent on</span>
<span class="e"></span>
Actually, this does <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> lot more than switching on <a href="https://vimhelp.org/options.txt.html#%27cindent%27" class="o">'cindent'</a> for <a href="https://vimhelp.org/change.txt.html#C" class="d">C</a> files.  First
of all, <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> enables detecting the type of <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> file.  That's the same <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> what <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a>
used for <a href="https://vimhelp.org/syntax.txt.html#syntax" class="d">syntax</a> highlighting.
   When the <a href="https://vimhelp.org/filetype.txt.html#filetype" class="d">filetype</a> <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> known, Vim will search for an indent file for this
type of file.  The Vim <a href="https://vimhelp.org/intro.txt.html#distribution" class="d">distribution</a> includes <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> number of these for <a href="https://vimhelp.org/various.txt.html#various" class="d">various</a>
programming languages.  This indent file will then prepare for automatic
indenting specifically for this file.

If you don't like the automatic indenting, you can switch <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> off again: 
<span class="e"></span>
<span class="e">        :filetype indent off</span>
<span class="e"></span>
If you don't like the indenting for one specific type of file, this <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> how you
avoid it.  Create <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> file with just this one line: 
<span class="e"></span>
<span class="e">        :let b:did_indent = 1</span>
<span class="e"></span>
Now you need to write this in <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> file with <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> specific name:

        <span class="s">{directory}</span>/indent/<span class="s">{filetype}</span>.vim

The <span class="s">{filetype}</span> <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> the name of the file type, such <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> "cpp" or "java"<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>  You can
see the exact name that Vim detected with this command: 
<span class="e"></span>
<span class="e">        :set filetype</span>
<span class="e"></span>
In this file the output is:

<span class="h">        filetype=help </span>

Thus you would use "<a href="https://vimhelp.org/helphelp.txt.html#help" class="d">help</a>" for <span class="s">{filetype}</span>.
   For the <span class="s">{directory}</span> part you need to use your runtime directory.  Look <a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a>
the output of this command: 
<span class="e"></span>
<span class="e">        set runtimepath</span>
<span class="e"></span>
Now use the first item, the name before the first comma.  Thus if the output
looks like this:

<span class="h">        runtimepath=~/.vim,/usr/local/share/vim/vim60/runtime,~/.vim/after </span>

You use "~/.vim" for <span class="s">{directory}</span>.  Then the resulting file name is:

<span class="h">        ~/.vim/indent/help.vim </span>

Instead of switching the indenting off, you could write your own indent file.
How to <a href="https://vimhelp.org/diff.txt.html#do" class="d">do</a> that <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> explained here: <a href="https://vimhelp.org/indent.txt.html#indent-expression" class="l">indent-expression</a><a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>

<span class="h">==============================================================================</span>
<span id="30.4" class="t">30.4</span>  Other indenting

The simplest form of automatic indenting <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> with the <a href="https://vimhelp.org/options.txt.html#%27autoindent%27" class="o">'autoindent'</a> option.
It uses the indent from the previous line.  <a href="https://vimhelp.org/insert.txt.html#A" class="d">A</a> bit smarter <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> the <a href="https://vimhelp.org/options.txt.html#%27smartindent%27" class="o">'smartindent'</a>
option.  This <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> useful for languages where no indent file <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> available.
<a href="https://vimhelp.org/options.txt.html#%27smartindent%27" class="o">'smartindent'</a> <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> not <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> smart <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> <a href="https://vimhelp.org/options.txt.html#%27cindent%27" class="o">'cindent'</a>, but smarter than <a href="https://vimhelp.org/options.txt.html#%27autoindent%27" class="o">'autoindent'</a>.
   With <a href="https://vimhelp.org/options.txt.html#%27smartindent%27" class="o">'smartindent'</a> set, an extra level of indentation <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> added for each <a href="https://vimhelp.org/motion.txt.html#%7B" class="d">{</a>
and removed for each }.  An extra level of indentation will also be added for
any of the words in the <a href="https://vimhelp.org/options.txt.html#%27cinwords%27" class="o">'cinwords'</a> option.  Lines that begin with <a href="https://vimhelp.org/pattern.txt.html#%23" class="d">#</a> are
treated specially: all indentation <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> removed.  This <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> done so that
preprocessor directives will all start in column 1.  The indentation <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a>
restored for the next line.


<span class="c">CORRECTING INDENTS</span>

When you are using <a href="https://vimhelp.org/options.txt.html#%27autoindent%27" class="o">'autoindent'</a> or <a href="https://vimhelp.org/options.txt.html#%27smartindent%27" class="o">'smartindent'</a> to get the indent of the
previous line, there will be many times when you need to add or remove one
<a href="https://vimhelp.org/options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a> worth of indent.  <a href="https://vimhelp.org/insert.txt.html#A" class="d">A</a> quick way to <a href="https://vimhelp.org/diff.txt.html#do" class="d">do</a> this <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> using the <a href="https://vimhelp.org/scroll.txt.html#CTRL-D" class="k">CTRL-D</a> and
<a href="https://vimhelp.org/tagsrch.txt.html#CTRL-T" class="k">CTRL-T</a> commands in <a href="https://vimhelp.org/insert.txt.html#Insert" class="d">Insert</a> mode.
   For example, you are typing <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> shell <a href="https://vimhelp.org/usr_41.txt.html#script" class="d">script</a> that <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> supposed to look like
this:

<span class="h">        if test -n a; then </span>
<span class="h">           echo a </span>
<span class="h">           echo "-------" </span>
<span class="h">        fi </span>

Start off by setting these options: 
<span class="e"></span>
<span class="e">        :set autoindent shiftwidth=3</span>
<span class="e"></span>
You start by typing the first line, <a href="https://vimhelp.org/intro.txt.html#%3CEnter%3E" class="s">&lt;Enter&gt;</a> and the start of the second line:

<span class="h">        if test -n a; then </span>
<span class="h">        echo </span>

Now you see that you need an extra indent.  Type <a href="https://vimhelp.org/tagsrch.txt.html#CTRL-T" class="k">CTRL-T</a>.  The result:

<span class="h">        if test -n a; then </span>
<span class="h">           echo </span>

The <a href="https://vimhelp.org/tagsrch.txt.html#CTRL-T" class="k">CTRL-T</a> command, in <a href="https://vimhelp.org/insert.txt.html#Insert" class="d">Insert</a> mode, adds one <a href="https://vimhelp.org/options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a> to the indent, no
matter where in the line you are.
   You continue typing the second line, <a href="https://vimhelp.org/intro.txt.html#%3CEnter%3E" class="s">&lt;Enter&gt;</a> and the third line.  This time
the indent <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> OK.  Then <a href="https://vimhelp.org/intro.txt.html#%3CEnter%3E" class="s">&lt;Enter&gt;</a> and the last line.  Now you have this:

<span class="h">        if test -n a; then </span>
<span class="h">           echo a </span>
<span class="h">           echo "-------" </span>
<span class="h">           fi </span>

To remove the superfluous indent in the last line press <a href="https://vimhelp.org/scroll.txt.html#CTRL-D" class="k">CTRL-D</a>.  This deletes
one <a href="https://vimhelp.org/options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a> worth of indent, no matter where you are in the line.
   When you are in <a href="https://vimhelp.org/intro.txt.html#Normal" class="d">Normal</a> mode, you can use the "<a href="https://vimhelp.org/change.txt.html#%3E%3E" class="d">&gt;&gt;</a>" and "<a href="https://vimhelp.org/change.txt.html#%3C%3C" class="d">&lt;&lt;</a>" commands to
<a href="https://vimhelp.org/intro.txt.html#shift" class="d">shift</a> lines.  "<a href="https://vimhelp.org/change.txt.html#%3E" class="d">&gt;</a>" and "<a href="https://vimhelp.org/change.txt.html#%3C" class="d">&lt;</a>" are operators, thus you have the usual three ways to
specify the lines you want to indent.  <a href="https://vimhelp.org/insert.txt.html#A" class="d">A</a> useful combination is: 
<span class="e"></span>
<span class="e">        &gt;i{</span>
<span class="e"></span>
This adds one indent to the current block of lines, inside <span class="s">{}.  The { and }</span>
lines themselves are left unmodified.  "&gt;a{" includes them.  In this example
the cursor <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> on "printf"<a href="https://vimhelp.org/cmdline.txt.html#%3A" class="d">:</a>

        original text           after "&gt;i{"             after "&gt;a{"

<span class="h">        if (flag)               if (flag)               if (flag) </span>
<span class="h">        {                       {                           { </span>
<span class="h">        printf("yes");              printf("yes");          printf("yes"); </span>
<span class="h">        flag = 0;                   flag = 0;               flag = 0;  </span>
<span class="h">        }                       }                           } </span>

<span class="h">==============================================================================</span>
<span id="30.5" class="t">30.5</span>  Tabs and spaces

<a href="https://vimhelp.org/options.txt.html#%27tabstop%27" class="o">'tabstop'</a> <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> set to eight by default.  Although you can change it, you quickly
run into trouble later.  Other programs won't know what tabstop value you
used.  They probably use the default value of eight, and your text suddenly
looks very different.  Also, most printers use <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> fixed tabstop value of eight.
Thus it's best to keep <a href="https://vimhelp.org/options.txt.html#%27tabstop%27" class="o">'tabstop'</a> alone.  (If you edit <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> file which was written
with <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> different tabstop setting, see <a href="https://vimhelp.org/usr_25.txt.html#25.3" class="l">25.3</a> for how to fix that.)
   For indenting lines in <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> program, using <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> multiple of eight spaces makes
you quickly run into the right border of the window.  Using <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> single <a href="https://vimhelp.org/intro.txt.html#space" class="d">space</a>
doesn't provide enough visual difference.  Many people prefer to use four
spaces, <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> good compromise.
   Since <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a> <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> eight spaces and you want to use an indent of four spaces,
you can't use <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a> character to make your indent.  There are two ways to
handle this:

1.  Use <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> mix of <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a> and <a href="https://vimhelp.org/intro.txt.html#space" class="d">space</a> characters.  Since <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a> takes the place of
    eight spaces, you have fewer characters in your file.  Inserting <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a>
    <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> quicker than eight spaces.  Backspacing works faster <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> well.

2.  Use spaces only.  This avoids the trouble with programs that use <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a>
    different tabstop value.

Fortunately, Vim supports both methods quite well.


<span class="c">SPACES AND TABS</span>

If you are using <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> combination of tabs and spaces, you just edit normally.
The Vim defaults <a href="https://vimhelp.org/diff.txt.html#do" class="d">do</a> <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> fine <a href="https://vimhelp.org/channel.txt.html#job" class="d">job</a> of handling things.
   You can make life <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> little easier by setting the <a href="https://vimhelp.org/options.txt.html#%27softtabstop%27" class="o">'softtabstop'</a> option.
This option tells Vim to make the <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a> key look and feel <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> if tabs were set
<a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a> the value of <a href="https://vimhelp.org/options.txt.html#%27softtabstop%27" class="o">'softtabstop'</a>, but actually use <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> combination of tabs and
spaces.
   After you execute the following command, every time you press the <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a> key
the cursor moves to the next 4-column boundary: 
<span class="e"></span>
<span class="e">        :set softtabstop=4</span>
<span class="e"></span>
When you start in the first column and press <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a>, you get 4 spaces inserted
in your text.  The second time, Vim takes out the 4 spaces and puts in <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a>
(thus taking you to column 8).  Thus Vim uses <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> many <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a>s <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> possible, and
then fills up with spaces.
   When backspacing <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> works the other way around.  <a href="https://vimhelp.org/insert.txt.html#A" class="d">A</a> <a href="https://vimhelp.org/motion.txt.html#%3CBS%3E" class="s">&lt;BS&gt;</a> will always delete
the amount specified with <a href="https://vimhelp.org/options.txt.html#%27softtabstop%27" class="o">'softtabstop'</a>.  Then <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a>s are used <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> many <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a>
possible and spaces to fill the gap.
   The following shows what happens pressing <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a> <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> few times, and then using
<a href="https://vimhelp.org/motion.txt.html#%3CBS%3E" class="s">&lt;BS&gt;</a>.  <a href="https://vimhelp.org/insert.txt.html#A" class="d">A</a> "<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>" stands for <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/intro.txt.html#space" class="d">space</a> and "-------&gt;" for <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a>.

<span class="h">        type                      result </span>
        <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a>                     ....
        <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a><a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a>                -------&gt;
        <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a><a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a><a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a>           -------&gt;....
        <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a><a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a><a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a><a href="https://vimhelp.org/motion.txt.html#%3CBS%3E" class="s">&lt;BS&gt;</a>       -------&gt;
        <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a><a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a><a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a><a href="https://vimhelp.org/motion.txt.html#%3CBS%3E" class="s">&lt;BS&gt;</a><a href="https://vimhelp.org/motion.txt.html#%3CBS%3E" class="s">&lt;BS&gt;</a>   ....

An alternative <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> to use the <a href="https://vimhelp.org/options.txt.html#%27smarttab%27" class="o">'smarttab'</a> option.  When it's set, Vim uses
<a href="https://vimhelp.org/options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a> for <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a> typed in the indent of <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> line, and <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> real <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a> when
typed after the first non-blank character.  However, <a href="https://vimhelp.org/motion.txt.html#%3CBS%3E" class="s">&lt;BS&gt;</a> doesn't work like
with <a href="https://vimhelp.org/options.txt.html#%27softtabstop%27" class="o">'softtabstop'</a>.


<span class="c">JUST SPACES</span>

If you want absolutely no tabs in your file, you can set the <a href="https://vimhelp.org/options.txt.html#%27expandtab%27" class="o">'expandtab'</a>
option: 
<span class="e"></span>
<span class="e">        :set expandtab</span>
<span class="e"></span>
When this option <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> set, the <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a> key inserts <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> series of spaces.  Thus you
get the same amount of white <a href="https://vimhelp.org/intro.txt.html#space" class="d">space</a> <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> if <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a> character was inserted, but
there isn't <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> real <a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a> character in your file.
   The <a href="https://vimhelp.org/intro.txt.html#backspace" class="d">backspace</a> key will delete each <a href="https://vimhelp.org/intro.txt.html#space" class="d">space</a> by itself.  Thus after typing one
<a href="https://vimhelp.org/motion.txt.html#%3CTab%3E" class="s">&lt;Tab&gt;</a> you have to press the <a href="https://vimhelp.org/motion.txt.html#%3CBS%3E" class="s">&lt;BS&gt;</a> key up to eight times to <a href="https://vimhelp.org/undo.txt.html#undo" class="d">undo</a> it.  If you are
in the indent, pressing <a href="https://vimhelp.org/scroll.txt.html#CTRL-D" class="k">CTRL-D</a> will be <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> lot quicker.


<span class="c">CHANGING TABS IN SPACES (AND BACK)</span>

Setting <a href="https://vimhelp.org/options.txt.html#%27expandtab%27" class="o">'expandtab'</a> does not affect any existing tabs.  In other words, any
tabs in the document remain tabs.  If you want to convert tabs to spaces, use
the "<a href="https://vimhelp.org/change.txt.html#%3Aretab" class="d">:retab</a>" command.  Use these commands: 
<span class="e"></span>
<span class="e">        :set expandtab</span>
<span class="e">        :%retab</span>
<span class="e"></span>
Now Vim will have changed all indents to use spaces instead of tabs.  However,
all tabs that come after <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> non-blank character are kept.  If you want these to
be converted <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> well, add <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> !: 
<span class="e"></span>
<span class="e">        :%retab!</span>
<span class="e"></span>
This <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> little bit dangerous, because <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> can also change tabs inside <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a>
string.  To check if these exist, you could use this: 
<span class="e"></span>
<span class="e">        /"[^"\t]*\t[^"]*"</span>
<span class="e"></span>
It's recommended not to use hard tabs inside <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> string.  <a href="https://vimhelp.org/insert.txt.html#Replace" class="d">Replace</a> them with
"\t" to avoid trouble.

The other way around works just <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> well: 
<span class="e"></span>
<span class="e">        :set noexpandtab</span>
<span class="e">        :%retab!</span>
<span class="e"></span>
<span class="h">==============================================================================</span>
<span id="30.6" class="t">30.6</span>  Formatting comments

One of the great things about Vim <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> that <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> understands comments.  You can
ask Vim to format <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> comment and <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> will <a href="https://vimhelp.org/diff.txt.html#do" class="d">do</a> the right thing.
   Suppose, for example, that you have the following comment:

<span class="h">        /* </span>
<span class="h">         * This is a test </span>
<span class="h">         * of the text formatting. </span>
<span class="h">         */ </span>

You then ask Vim to format <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> by positioning the cursor <a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a> the start of the
comment and type: 
<span class="e"></span>
<span class="e">        gq]/</span>
<span class="e"></span>
"<a href="https://vimhelp.org/change.txt.html#gq" class="d">gq</a>" <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> the <a href="https://vimhelp.org/motion.txt.html#operator" class="d">operator</a> to format text.  "<a href="https://vimhelp.org/motion.txt.html#%5D%2F" class="d">]/</a>" <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> the motion that takes you to the
<a href="https://vimhelp.org/intro.txt.html#end" class="d">end</a> of <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> comment.  The result is:

<span class="h">        /* </span>
<span class="h">         * This is a test of the text formatting. </span>
<span class="h">         */ </span>

Notice that Vim properly handled the beginning of each line.
  An alternative <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> to select the text that <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> to be formatted in <a href="https://vimhelp.org/visual.txt.html#Visual" class="d">Visual</a> mode
and type "<a href="https://vimhelp.org/change.txt.html#gq" class="d">gq</a>"<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>

To add <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> new line to the comment, position the cursor on the middle line and
press "<a href="https://vimhelp.org/insert.txt.html#o" class="d">o</a>"<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>  The result looks like this:

<span class="h">        /* </span>
<span class="h">         * This is a test of the text formatting. </span>
<span class="h">         * </span>
<span class="h">         */ </span>

Vim has automatically inserted <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/pattern.txt.html#star" class="d">star</a> and <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/intro.txt.html#space" class="d">space</a> for you.  Now you can type
the comment text.  When <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> gets longer than <a href="https://vimhelp.org/options.txt.html#%27textwidth%27" class="o">'textwidth'</a>, Vim will break the
line.  Again, the <a href="https://vimhelp.org/pattern.txt.html#star" class="d">star</a> <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> inserted automatically:

<span class="h">        /* </span>
<span class="h">         * This is a test of the text formatting. </span>
<span class="h">         * Typing a lot of text here will make Vim </span>
<span class="h">         * break </span>
<span class="h">         */ </span>

For this to work some flags <a href="https://vimhelp.org/vim_faq.txt.html#must" class="d">must</a> be present in <a href="https://vimhelp.org/options.txt.html#%27formatoptions%27" class="o">'formatoptions'</a>:

        <a href="https://vimhelp.org/change.txt.html#r" class="d">r</a>       <a href="https://vimhelp.org/insert.txt.html#insert" class="d">insert</a> the <a href="https://vimhelp.org/pattern.txt.html#star" class="d">star</a> when typing <a href="https://vimhelp.org/intro.txt.html#%3CEnter%3E" class="s">&lt;Enter&gt;</a> in <a href="https://vimhelp.org/insert.txt.html#Insert" class="d">Insert</a> mode
        <a href="https://vimhelp.org/insert.txt.html#o" class="d">o</a>       <a href="https://vimhelp.org/insert.txt.html#insert" class="d">insert</a> the <a href="https://vimhelp.org/pattern.txt.html#star" class="d">star</a> when using "<a href="https://vimhelp.org/insert.txt.html#o" class="d">o</a>" or "<a href="https://vimhelp.org/insert.txt.html#O" class="d">O</a>" in <a href="https://vimhelp.org/intro.txt.html#Normal" class="d">Normal</a> mode
        <a href="https://vimhelp.org/change.txt.html#c" class="d">c</a>       break comment text according to <a href="https://vimhelp.org/options.txt.html#%27textwidth%27" class="o">'textwidth'</a>

See <a href="https://vimhelp.org/change.txt.html#fo-table" class="l">fo-table</a> for more flags.


<span class="c">DEFINING A COMMENT</span>

The <a href="https://vimhelp.org/options.txt.html#%27comments%27" class="o">'comments'</a> option defines what <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> comment looks like.  Vim distinguishes
between <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> single-line comment and <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> comment that has <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> different start, <a href="https://vimhelp.org/intro.txt.html#end" class="d">end</a>
and middle part.
   Many single-line comments start with <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> specific character.  In C++ <a href="https://vimhelp.org/version7.txt.html#%2F%2F" class="d">//</a> <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a>
used, in Makefiles #, in Vim scripts "<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>  For example, to make Vim understand
C++ comments: 
<span class="e"></span>
<span class="e">        :set comments=://</span>
<span class="e"></span>
The colon separates the flags of an item from the text by which the comment <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a>
recognized.  The general form of an item in <a href="https://vimhelp.org/options.txt.html#%27comments%27" class="o">'comments'</a> is:

        <span class="s">{flags}</span>:<span class="s">{text}</span>

The <span class="s">{flags}</span> part can be empty, <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> in this case.
   Several of these items can be concatenated, separated by commas.  This
allows recognizing different types of comments <a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a> the same time.  For example,
let's edit an e-mail message.  When replying, the text that others wrote <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a>
preceded with "<a href="https://vimhelp.org/change.txt.html#%3E" class="d">&gt;</a>" and "<a href="https://vimhelp.org/change.txt.html#%21" class="d">!</a>" characters.  This command would work: 
<span class="e"></span>
<span class="e">        :set comments=n:&gt;,n:!</span>
<span class="e"></span>
There are two items, one for comments <a href="https://vimhelp.org/starting.txt.html#starting" class="d">starting</a> with "<a href="https://vimhelp.org/change.txt.html#%3E" class="d">&gt;</a>" and one for comments
that start with "<a href="https://vimhelp.org/change.txt.html#%21" class="d">!</a>"<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>  Both use the flag "<a href="https://vimhelp.org/pattern.txt.html#n" class="d">n</a>"<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>  This means that these comments
nest.  Thus <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> line <a href="https://vimhelp.org/starting.txt.html#starting" class="d">starting</a> with "<a href="https://vimhelp.org/change.txt.html#%3E" class="d">&gt;</a>" may have another comment after the "<a href="https://vimhelp.org/change.txt.html#%3E" class="d">&gt;</a>"<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>
This allows <a href="https://vimhelp.org/change.txt.html#formatting" class="d">formatting</a> <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> message like this:

<span class="h">        &gt; ! Did you see that site? </span>
<span class="h">        &gt; ! It looks really great. </span>
<span class="h">        &gt; I don't like it.  The </span>
<span class="h">        &gt; colors are terrible. </span>
<span class="h">        What is the URL of that </span>
<span class="h">        site? </span>

Try setting <a href="https://vimhelp.org/options.txt.html#%27textwidth%27" class="o">'textwidth'</a> to <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> different value, e.g., 80, and format the text by
Visually selecting <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> and typing "<a href="https://vimhelp.org/change.txt.html#gq" class="d">gq</a>"<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>  The result is:

<span class="h">        &gt; ! Did you see that site?  It looks really great. </span>
<span class="h">        &gt; I don't like it.  The colors are terrible. </span>
<span class="h">        What is the URL of that site? </span>

You will notice that Vim did not move text from one type of comment to
another.  The "<a href="https://vimhelp.org/insert.txt.html#I" class="d">I</a>" in the second line would have fit <a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a> the <a href="https://vimhelp.org/intro.txt.html#end" class="d">end</a> of the first
line, but since that line starts with "<a href="https://vimhelp.org/change.txt.html#%3E" class="d">&gt;</a> <a href="https://vimhelp.org/change.txt.html#%21" class="d">!</a>" and the second line with "<a href="https://vimhelp.org/change.txt.html#%3E" class="d">&gt;</a>"<a href="https://vimhelp.org/motion.txt.html#%2C" class="d">,</a> Vim
knows that this <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> different kind of comment.


<span class="c">A THREE PART COMMENT</span>

<a href="https://vimhelp.org/insert.txt.html#A" class="d">A</a> <a href="https://vimhelp.org/change.txt.html#C" class="d">C</a> comment starts with "<a href="https://vimhelp.org/pattern.txt.html#%2F" class="d">/</a>*"<a href="https://vimhelp.org/motion.txt.html#%2C" class="d">,</a> has "*" in the middle and "*<a href="https://vimhelp.org/pattern.txt.html#%2F" class="d">/</a>" <a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a> the end.  The
entry in <a href="https://vimhelp.org/options.txt.html#%27comments%27" class="o">'comments'</a> for this looks like this: 
<span class="e"></span>
<span class="e">        :set comments=s1:/*,mb:*,ex:*/</span>
<span class="e"></span>
The start <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> defined with "s1:/*"<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>  The "<a href="https://vimhelp.org/change.txt.html#s" class="d">s</a>" indicates the start of <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a>
three-piece comment.  The colon separates the flags from the text by which the
comment <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> recognized: "<a href="https://vimhelp.org/pattern.txt.html#%2F" class="d">/</a>*"<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>  There <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> one flag: "1"<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>  This tells Vim that the
middle part has an offset of one space.
   The middle part "mb:*" starts with "<a href="https://vimhelp.org/motion.txt.html#m" class="d">m</a>"<a href="https://vimhelp.org/motion.txt.html#%2C" class="d">,</a> which indicates <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> middle
part.  The "<a href="https://vimhelp.org/motion.txt.html#b" class="d">b</a>" flag means that <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> blank <a href="https://vimhelp.org/vim_faq.txt.html#must" class="d">must</a> follow the text.  Otherwise Vim
would consider text like "*pointer" also to be the middle of <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> comment.
   The <a href="https://vimhelp.org/intro.txt.html#end" class="d">end</a> part "<a href="https://vimhelp.org/options.txt.html#ex%3A" class="d">ex:</a>*<a href="https://vimhelp.org/pattern.txt.html#%2F" class="d">/</a>" has the "<a href="https://vimhelp.org/motion.txt.html#e" class="d">e</a>" for identification.  The "<a href="https://vimhelp.org/change.txt.html#x" class="d">x</a>" flag has <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a>
special meaning.  It means that after Vim automatically inserted <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> star,
typing <a href="https://vimhelp.org/pattern.txt.html#%2F" class="d">/</a> will remove the extra space.

For more details see <a href="https://vimhelp.org/change.txt.html#format-comments" class="l">format-comments</a><a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>

<span class="h">==============================================================================</span>

Next chapter: <a href="https://vimhelp.org/usr_31.txt.html#usr_31.txt" class="l">usr_31.txt</a>  Exploiting the <a href="https://vimhelp.org/gui.txt.html#GUI" class="d">GUI</a>

Copyright: see <a href="https://vimhelp.org/usr_01.txt.html#manual-copyright" class="l">manual-copyright</a>  vim:tw=78:ts=8:noet:ft=help:norl:


</pre>
</div>
<div id="vh-sidebar" style="visibility: visible; position: sticky; left: 116.333px;"><ul><li><a href="#">Top</a></li><li><a href="#30.1">Compiling</a></li><li><a href="#30.2">Indenting C style text</a></li><li><a href="#30.3">Automatic indenting</a></li><li><a href="#30.4">Other indenting</a></li><li><a href="#30.5">Tabs and spaces</a></li><li><a href="#30.6">Formatting comments</a></li></ul></div>
</main>
<p>
Quick links:
<a href="https://vimhelp.org/">help overview</a> 路
<a href="https://vimhelp.org/quickref.txt.html">quick reference</a> 路
<a href="https://vimhelp.org/usr_toc.txt.html">user manual toc</a> 路
<a href="https://vimhelp.org/#reference_toc">reference manual toc</a>
路 <a href="https://vimhelp.org/vim_faq.txt.html">faq</a></p>
<footer>This site is maintained by Carlo Teubner (<i>(my first name) at cteubner dot net</i>).</footer>


<div id="sourcegraph-app-background" data-platform="firefox-extension" data-version="22.11.24.1820" style="display: none;"></div></body></html>