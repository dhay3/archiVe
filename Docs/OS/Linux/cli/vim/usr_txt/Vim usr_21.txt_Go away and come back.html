<!DOCTYPE html>
<html lang="en"><script type="text/javascript">try {
(function injectPageScriptAPI(scriptName, shouldOverrideWebSocket, shouldOverrideWebRTC, isInjected) { 

    'use strict';

    /**
     * If script have been injected into a frame via contentWindow then we can simply take the copy of messageChannel left for us by parent document
     * Otherwise creates new message channel that sends a message to the content-script to check if request should be allowed or not.
     */
    var messageChannel = isInjected ? window[scriptName] : (function () {

        // Save original postMessage and addEventListener functions to prevent webpage from tampering both.
        var postMessage = window.postMessage;
        var addEventListener = window.addEventListener;

        // Current request ID (incremented every time we send a new message)
        var currentRequestId = 0;
        var requestsMap = {};

        /**
         * Handles messages sent from the content script back to the page script.
         *
         * @param event Event with necessary data
         */
        var onMessageReceived = function (event) {

            if (!event.data || !event.data.direction || event.data.direction !== "to-page-script@abu") {
                return;
            }

            var requestData = requestsMap[event.data.requestId];
            if (requestData) {
                var wrapper = requestData.wrapper;
                requestData.onResponseReceived(wrapper, event.data.block);
                delete requestsMap[event.data.requestId];
            }
        };

        /**
         * @param url                The URL to which wrapped object is willing to connect
         * @param requestType        Request type ( WEBSOCKET or WEBRTC)
         * @param wrapper            WebSocket wrapper instance
         * @param onResponseReceived Called when response is received
         */
        var sendMessage = function (url, requestType, wrapper, onResponseReceived) {

            if (currentRequestId === 0) {
                // Subscribe to response when this method is called for the first time
                addEventListener.call(window, "message", onMessageReceived, false);
            }

            var requestId = ++currentRequestId;
            requestsMap[requestId] = {
                wrapper: wrapper,
                onResponseReceived: onResponseReceived
            };

            var message = {
                requestId: requestId,
                direction: 'from-page-script@abu',
                elementUrl: url,
                documentUrl: document.URL,
                requestType: requestType
            };

            // Send a message to the background page to check if the request should be blocked
            postMessage.call(window, message, "*");
        };

        return {
            sendMessage: sendMessage
        };

    })();

    /*
     * In some case Chrome won't run content scripts inside frames.
     * So we have to intercept access to contentWindow/contentDocument and manually inject wrapper script into this context
     *
     * Based on: https://github.com/adblockplus/adblockpluschrome/commit/1aabfb3346dc0821c52dd9e97f7d61b8c99cd707
     */
    var injectedToString = Function.prototype.toString.bind(injectPageScriptAPI);

    var injectedFramesAdd;
    var injectedFramesHas;
    if (window.WeakSet instanceof Function) {
        var injectedFrames = new WeakSet();
        injectedFramesAdd = WeakSet.prototype.add.bind(injectedFrames);
        injectedFramesHas = WeakSet.prototype.has.bind(injectedFrames);
    } else {
        var frames = [];
        injectedFramesAdd = function (el) {
            if (frames.indexOf(el) < 0) {
                frames.push(el);
            }
        };
        injectedFramesHas = function (el) {
            return frames.indexOf(el) >= 0;
        };
    }

    /**
     * Injects wrapper's script into passed window
     * @param contentWindow Frame's content window
     */
    function injectPageScriptAPIInWindow(contentWindow) {
        try {
            if (contentWindow && !injectedFramesHas(contentWindow)) {
                injectedFramesAdd(contentWindow);
                contentWindow[scriptName] = messageChannel; // Left message channel for the injected script
                var args = "'" + scriptName + "', " + shouldOverrideWebSocket + ", " + shouldOverrideWebRTC + ", true";
                contentWindow.eval("(" + injectedToString() + ")(" + args + ");");
                delete contentWindow[scriptName];
            }
        } catch (e) {
        }
    }

    /**
     * Overrides access to contentWindow/contentDocument for the passed HTML element's interface (iframe, frame, object)
     * If the content of one of these objects is requested we will inject our wrapper script.
     * @param iface HTML element's interface
     */
    function overrideContentAccess(iface) {

        var contentWindowDescriptor = Object.getOwnPropertyDescriptor(iface.prototype, "contentWindow");
        var contentDocumentDescriptor = Object.getOwnPropertyDescriptor(iface.prototype, "contentDocument");

        // Apparently in HTMLObjectElement.prototype.contentWindow does not exist
        // in older versions of Chrome such as 42.
        if (!contentWindowDescriptor) {
            return;
        }

        var getContentWindow = Function.prototype.call.bind(contentWindowDescriptor.get);
        var getContentDocument = Function.prototype.call.bind(contentDocumentDescriptor.get);

        contentWindowDescriptor.get = function () {
            var contentWindow = getContentWindow(this);
            injectPageScriptAPIInWindow(contentWindow);
            return contentWindow;
        };
        contentDocumentDescriptor.get = function () {
            injectPageScriptAPIInWindow(getContentWindow(this));
            return getContentDocument(this);
        };

        Object.defineProperty(iface.prototype, "contentWindow", contentWindowDescriptor);
        Object.defineProperty(iface.prototype, "contentDocument", contentDocumentDescriptor);
    }

    var interfaces = [HTMLFrameElement, HTMLIFrameElement, HTMLObjectElement];
    for (var i = 0; i < interfaces.length; i++) {
        overrideContentAccess(interfaces[i]);
    }

    /**
     * Defines properties in destination object
     * @param src Source object
     * @param dest Destination object
     * @param properties Properties to copy
     */
    var copyProperties = function (src, dest, properties) {
        for (var i = 0; i < properties.length; i++) {
            var prop = properties[i];
            var descriptor = Object.getOwnPropertyDescriptor(src, prop);
            // Passed property may be undefined
            if (descriptor) {
                Object.defineProperty(dest, prop, descriptor);
            }
        }
    };

    /**
     * Check request by sending message to content script
     * @param url URL to block
     * @param type Request type
     * @param callback Result callback
     */
    var checkRequest = function (url, type, callback) {
        messageChannel.sendMessage(url, type, this, function (wrapper, blockConnection) {
            callback(blockConnection);
        });
    };

    /**
     * The function overrides window.WebSocket with our wrapper, that will check url with filters through messaging with content-script.
     *
     * IMPORTANT NOTE:
     * This function is first loaded as a content script. The only purpose of it is to call
     * the "toString" method and use resulting string as a text content for injected script.
     */
    var overrideWebSocket = function () { 

        if (!(window.WebSocket instanceof Function)) {
            return;
        }

        /**
         * WebSocket wrapper implementation.
         * https://github.com/AdguardTeam/AdguardBrowserExtension/issues/349
         *
         * Based on:
         * https://github.com/adblockplus/adblockpluschrome/commit/457a336ee55a433217c3ffe5d363e5c6980f26f4
         */

        /**
         * As far as possible we must track everything we use that could be sabotaged by the website later in order to circumvent us.
         */
        var RealWebSocket = WebSocket;
        var closeWebSocket = Function.prototype.call.bind(RealWebSocket.prototype.close);

        function WrappedWebSocket(url, protocols) {
            // Throw correct exceptions if the constructor is used improperly.
            if (!(this instanceof WrappedWebSocket)) {
                return RealWebSocket();
            }
            if (arguments.length < 1) {
                return new RealWebSocket();
            }

            var websocket = new RealWebSocket(url, protocols);

            // This is the key point: checking if this WS should be blocked or not
            // Don't forget that the type of 'websocket.url' is String, but 'url 'parameter might have another type.
            checkRequest(websocket.url, 'WEBSOCKET', function (blocked) {
                if (blocked) {
                    closeWebSocket(websocket);
                }
            });

            return websocket;
        }

        // https://github.com/AdguardTeam/AdguardBrowserExtension/issues/488
        WrappedWebSocket.prototype = RealWebSocket.prototype;
        window.WebSocket = WrappedWebSocket.bind();

        copyProperties(RealWebSocket, WebSocket, ["CONNECTING", "OPEN", "CLOSING", "CLOSED", "name", "prototype"]);

        RealWebSocket.prototype.constructor = WebSocket;

    };

    /**
     * The function overrides window.RTCPeerConnection with our wrapper, that will check ice servers URLs with filters through messaging with content-script.
     *
     * IMPORTANT NOTE:
     * This function is first loaded as a content script. The only purpose of it is to call
     * the "toString" method and use resulting string as a text content for injected script.
     */
    var overrideWebRTC = function () { 


        if (!(window.RTCPeerConnection instanceof Function) &&
            !(window.webkitRTCPeerConnection instanceof Function)) {
            return;
        }

        /**
         * RTCPeerConnection wrapper implementation.
         * https://github.com/AdguardTeam/AdguardBrowserExtension/issues/588
         *
         * Based on:
         * https://github.com/adblockplus/adblockpluschrome/commit/af0585137be19011eace1cf68bf61eed2e6db974
         *
         * Chromium webRequest API doesn't allow the blocking of WebRTC connections
         * https://bugs.chromium.org/p/chromium/issues/detail?id=707683
         */

        var RealRTCPeerConnection = window.RTCPeerConnection || window.webkitRTCPeerConnection;
        var closeRTCPeerConnection = Function.prototype.call.bind(RealRTCPeerConnection.prototype.close);

        var RealArray = Array;
        var RealString = String;
        var createObject = Object.create;
        var defineProperty = Object.defineProperty;

        /**
         * Convert passed url to string
         * @param url URL
         * @returns {string}
         */
        function urlToString(url) {
            if (typeof url !== "undefined") {
                return RealString(url);
            }
        }

        /**
         * Creates new immutable array from original with some transform function
         * @param original
         * @param transform
         * @returns {*}
         */
        function safeCopyArray(original, transform) {

            if (original === null || typeof original !== "object") {
                return original;
            }

            var immutable = RealArray(original.length);
            for (var i = 0; i < immutable.length; i++) {
                defineProperty(immutable, i, {
                    configurable: false, enumerable: false, writable: false,
                    value: transform(original[i])
                });
            }
            defineProperty(immutable, "length", {
                configurable: false, enumerable: false, writable: false,
                value: immutable.length
            });
            return immutable;
        }

        /**
         * Protect configuration from mutations
         * @param configuration RTCPeerConnection configuration object
         * @returns {*}
         */
        function protectConfiguration(configuration) {

            if (configuration === null || typeof configuration !== "object") {
                return configuration;
            }

            var iceServers = safeCopyArray(
                configuration.iceServers,
                function (iceServer) {

                    var url = iceServer.url;
                    var urls = iceServer.urls;

                    // RTCPeerConnection doesn't iterate through pseudo Arrays of urls.
                    if (typeof urls !== "undefined" && !(urls instanceof RealArray)) {
                        urls = [urls];
                    }

                    return createObject(iceServer, {
                        url: {
                            configurable: false, enumerable: false, writable: false,
                            value: urlToString(url)
                        },
                        urls: {
                            configurable: false, enumerable: false, writable: false,
                            value: safeCopyArray(urls, urlToString)
                        }
                    });
                }
            );

            return createObject(configuration, {
                iceServers: {
                    configurable: false, enumerable: false, writable: false,
                    value: iceServers
                }
            });
        }

        /**
         * Check WebRTC connection's URL and close if it's blocked by rule
         * @param connection Connection
         * @param url URL to check
         */
        function checkWebRTCRequest(connection, url) {
            checkRequest(url, 'WEBRTC', function (blocked) {
                if (blocked) {
                    try {
                        closeRTCPeerConnection(connection);
                    } catch (e) {
                        // Ignore exceptions
                    }
                }
            });
        }

        /**
         * Check each URL of ice server in configuration for blocking.
         *
         * @param connection RTCPeerConnection
         * @param configuration Configuration for RTCPeerConnection
         * https://developer.mozilla.org/en-US/docs/Web/API/RTCConfiguration
         */
        function checkConfiguration(connection, configuration) {

            if (!configuration || !configuration.iceServers) {
                return;
            }

            var iceServers = configuration.iceServers;
            for (var i = 0; i < iceServers.length; i++) {

                var iceServer = iceServers[i];
                if (!iceServer) {
                    continue;
                }

                if (iceServer.url) {
                    checkWebRTCRequest(connection, iceServer.url);
                }

                if (iceServer.urls) {
                    for (var j = 0; j < iceServer.urls.length; j++) {
                        checkWebRTCRequest(connection, iceServer.urls[j]);
                    }
                }
            }
        }

        /**
         * Overrides setConfiguration method
         * https://developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/setConfiguration
         */
        if (RealRTCPeerConnection.prototype.setConfiguration) {

            var realSetConfiguration = Function.prototype.call.bind(RealRTCPeerConnection.prototype.setConfiguration);

            RealRTCPeerConnection.prototype.setConfiguration = function (configuration) {
                configuration = protectConfiguration(configuration);
                // Call the real method first, so that validates the configuration
                realSetConfiguration(this, configuration);
                checkConfiguration(this, configuration);
            };
        }

        function WrappedRTCPeerConnection(configuration, arg) {

            if (!(this instanceof WrappedRTCPeerConnection)) {
                return RealRTCPeerConnection();
            }

            configuration = protectConfiguration(configuration);

            /**
             * The old webkitRTCPeerConnection constructor takes an optional second argument and we must pass it.
             */
            var connection = new RealRTCPeerConnection(configuration, arg);
            checkConfiguration(connection, configuration);
            return connection;
        }

        WrappedRTCPeerConnection.prototype = RealRTCPeerConnection.prototype;

        var boundWrappedRTCPeerConnection = WrappedRTCPeerConnection.bind();
        copyProperties(RealRTCPeerConnection, boundWrappedRTCPeerConnection, ["caller", "generateCertificate", "name", "prototype"]);
        RealRTCPeerConnection.prototype.constructor = boundWrappedRTCPeerConnection;

        if ("RTCPeerConnection" in window) {
            window.RTCPeerConnection = boundWrappedRTCPeerConnection;
        }
        if ("webkitRTCPeerConnection" in window) {
            window.webkitRTCPeerConnection = boundWrappedRTCPeerConnection;
        }
    };

    if (shouldOverrideWebSocket) {
        overrideWebSocket();
    }

    if (shouldOverrideWebRTC) {
        overrideWebRTC();
    }
})('wrapper-script-2535754753536198', false, true);
} catch (ex) { console.error('Error executing AG js: ' + ex); }
(function () {
            var current = document.currentScript;
            var parent = current && current.parentNode;
            if (parent) {
                parent.removeChild(current);
            }
        })();</script><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Vim help pages, always up-to-date">
<title>Vim: usr_21.txt</title>
<link rel="shortcut icon" href="https://vimhelp.org/favicon.ico">
<!-- favicon is based on http://amnoid.de/tmp/vim_solidbright_512.png and is used with permission by its author -->
<link rel="stylesheet" href="Vim%20usr_21.txt_Go%20away%20and%20come%20back_files/vimhelp.css" type="text/css">

<link rel="stylesheet" class="select2-css" href="Vim%20usr_21.txt_Go%20away%20and%20come%20back_files/select2.min.css" integrity="sha256-zaSoHBhwFdle0scfGEFUCwggPN7F+ip9XRglo8IWb4w=" crossorigin="anonymous">
<script defer="defer" src="Vim%20usr_21.txt_Go%20away%20and%20come%20back_files/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script defer="defer" src="Vim%20usr_21.txt_Go%20away%20and%20come%20back_files/select2.min.js" integrity="sha256-9yRP/2EFlblE92vzCA10469Ctd0jT48HnmmMw5rJZrA=" crossorigin="anonymous"></script>
<script defer="defer" src="Vim%20usr_21.txt_Go%20away%20and%20come%20back_files/vimhelp.js"></script>
</head><body>
<div class="bar">
  <div class="ql">
Quick links:
<a href="https://vimhelp.org/">help overview</a> 路
<a href="https://vimhelp.org/quickref.txt.html">quick reference</a> 路
<a href="https://vimhelp.org/usr_toc.txt.html">user manual toc</a> 路
<a href="https://vimhelp.org/#reference_toc">reference manual toc</a>
路 <a href="https://vimhelp.org/vim_faq.txt.html">faq</a></div>
  <div class="srch">
    <select id="vh-select-tag" data-select2-id="select2-data-vh-select-tag" tabindex="-1" class="select2-hidden-accessible" aria-hidden="true" style="display: inline-block;"></select><span class="select2 select2-container select2-container--default" dir="ltr" data-select2-id="select2-data-1-x8t4" style="width: 100%;"><span class="selection"><span class="select2-selection select2-selection--single" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-disabled="false" aria-labelledby="select2-vh-select-tag-container" aria-controls="select2-vh-select-tag-container"><span class="select2-selection__rendered" id="select2-vh-select-tag-container" role="textbox" aria-readonly="true" title="Go to keyword"><span class="select2-selection__placeholder">Go to keyword</span></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>
  </div>
  <form class="srch" action="https://duckduckgo.com" method="get" target="_blank" rel="noopener noreferrer">
    <input type="hidden" name="sites" value="vimhelp.org">
    <input type="search" name="q" id="vh-srch-input" placeholder="Site search">
  </form>
</div>

<main>
<div id="vh-content">
<pre><span id="usr_21.txt" class="t">usr_21.txt</span>    For <span class="i">Vim version 9.0.</span>  Last change: 2019 Apr 25

                     VIM USER MANUAL <a href="https://vimhelp.org/motion.txt.html#-" class="d">-</a> by <a href="https://vimhelp.org/intro.txt.html#Bram" class="d">Bram</a> <a href="https://vimhelp.org/intro.txt.html#Moolenaar" class="d">Moolenaar</a>

                           Go away and come back


This chapter goes into mixing the use of other programs with Vim.  Either by
executing program from inside Vim or by leaving Vim and coming back later.
Furthermore, this <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> about the ways to remember the state of Vim and restore
<a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> later.

<a href="#21.1" class="l">21.1</a>  Suspend and resume
<a href="#21.2" class="l">21.2</a>  Executing shell commands
<a href="#21.3" class="l">21.3</a>  Remembering information; <a href="https://vimhelp.org/starting.txt.html#viminfo" class="d">viminfo</a>
<a href="#21.4" class="l">21.4</a>  Sessions
<a href="#21.5" class="l">21.5</a>  Views
<a href="#21.6" class="l">21.6</a>  Modelines

     Next chapter: <a href="https://vimhelp.org/usr_22.txt.html#usr_22.txt" class="l">usr_22.txt</a>  Finding the file to edit
 Previous chapter: <a href="https://vimhelp.org/usr_20.txt.html#usr_20.txt" class="l">usr_20.txt</a>  Typing command-line commands quickly
Table of contents: <a href="https://vimhelp.org/usr_toc.txt.html#usr_toc.txt" class="l">usr_toc.txt</a>

<span class="h">==============================================================================</span>
<span id="21.1" class="t">21.1</span>  Suspend and resume

Like most <a href="https://vimhelp.org/os_unix.txt.html#Unix" class="d">Unix</a> programs Vim can be suspended by pressing <a href="https://vimhelp.org/starting.txt.html#CTRL-Z" class="k">CTRL-Z</a>.  This stops
Vim and takes you back to the shell <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> was started in.  You can then <a href="https://vimhelp.org/diff.txt.html#do" class="d">do</a> any
other commands until you are bored with them.  Then bring back Vim with the
"fg" command. 
<span class="e"></span>
<span class="e">        CTRL-Z</span>
<span class="e">        {any sequence of shell commands}</span>
<span class="e">        fg</span>
<span class="e"></span>
You are right back where you left Vim, nothing has changed.
   In <a href="https://vimhelp.org/change.txt.html#case" class="d">case</a> pressing <a href="https://vimhelp.org/starting.txt.html#CTRL-Z" class="k">CTRL-Z</a> doesn't work, you can also use "<a href="https://vimhelp.org/starting.txt.html#%3Asuspend" class="d">:suspend</a>"<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>
Don't forget to bring Vim back to the foreground, you would lose any changes
that you made!

Only <a href="https://vimhelp.org/os_unix.txt.html#Unix" class="d">Unix</a> has support for this.  On other systems Vim will start <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> shell for
you.  This also has the functionality of being able to execute shell commands.
But it's <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> new shell, not the one that you started Vim from.
   When you are running the <a href="https://vimhelp.org/gui.txt.html#GUI" class="d">GUI</a> you can't <a href="https://vimhelp.org/motion.txt.html#go" class="d">go</a> back to the shell where Vim was
started.  <a href="https://vimhelp.org/starting.txt.html#CTRL-Z" class="k">CTRL-Z</a> will minimize the Vim <a href="https://vimhelp.org/windows.txt.html#window" class="d">window</a> instead.

<span class="h">==============================================================================</span>
<span id="21.2" class="t">21.2</span>  Executing shell commands

To execute <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> single shell command from Vim use ":!{command}"<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>  For example, to
see <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> directory listing: 
<span class="e"></span>
<span class="e">        :!ls</span>
<span class="e">        :!dir</span>
<span class="e"></span>
The first one <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> for Unix, the second one for MS-Windows.
   Vim will execute the program.  When <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> ends you will get <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> prompt to hit
<a href="https://vimhelp.org/intro.txt.html#%3CEnter%3E" class="s">&lt;Enter&gt;</a>.  This allows you to have <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> look <a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a> the output from the command before
returning to the text you were editing.
   The "<a href="https://vimhelp.org/change.txt.html#%21" class="d">!</a>" <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> also used in other places where <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> program <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> run.  Let's take
<a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> look <a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a> an overview:

        :!{program}             execute <span class="s">{program}</span>
        <a href="https://vimhelp.org/insert.txt.html#%3Ar" class="d">:r</a> !{program}           execute <span class="s">{program}</span> and read its output
        <a href="https://vimhelp.org/editing.txt.html#%3Aw" class="d">:w</a> !{program}           execute <span class="s">{program}</span> and send text to its input
        :[range]!{program}      <a href="https://vimhelp.org/change.txt.html#filter" class="d">filter</a> text through <span class="s">{program}</span>

Notice that the presence of <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> range before "!{program}" makes <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> big
difference.  Without <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> executes the program normally, with the range <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> number
of text lines <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> filtered through the program.

Executing <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> whole row of programs this way <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> possible.  But <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> shell <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> much
better <a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a> it.  You can start <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> new shell this way: 
<span class="e"></span>
<span class="e">        :shell</span>
<span class="e"></span>
This <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> similar to using <a href="https://vimhelp.org/starting.txt.html#CTRL-Z" class="k">CTRL-Z</a> to <a href="https://vimhelp.org/starting.txt.html#suspend" class="d">suspend</a> Vim.  The difference <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> that <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> new
shell <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> started.

When using the <a href="https://vimhelp.org/gui.txt.html#GUI" class="d">GUI</a> the shell will be using the Vim <a href="https://vimhelp.org/windows.txt.html#window" class="d">window</a> for its input and
output.  Since Vim <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> not <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/terminal.txt.html#terminal" class="d">terminal</a> emulator, this will not work perfectly.
If you have trouble, try toggling the <a href="https://vimhelp.org/options.txt.html#%27guipty%27" class="o">'guipty'</a> option.  If this still doesn't
work well enough, start <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> new <a href="https://vimhelp.org/terminal.txt.html#terminal" class="d">terminal</a> to run the shell in.  For example with:

<span class="e">        :!xterm&amp;</span>
<span class="e"></span>
<span class="h">==============================================================================</span>
<span id="21.3" class="t">21.3</span>  Remembering information; <a href="https://vimhelp.org/starting.txt.html#viminfo" class="d">viminfo</a>

After editing for <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> while you will have text in registers, marks in <a href="https://vimhelp.org/various.txt.html#various" class="d">various</a>
files, <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> command line <a href="https://vimhelp.org/cmdline.txt.html#history" class="d">history</a> filled with carefully crafted commands.  When
you exit Vim all of this <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> lost.  But you can get <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> back!

The <a href="https://vimhelp.org/starting.txt.html#viminfo" class="d">viminfo</a> file <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> designed to store status information:

        <a href="https://vimhelp.org/cmdline.txt.html#Command-line" class="d">Command-line</a> and Search <a href="https://vimhelp.org/pattern.txt.html#pattern" class="d">pattern</a> <a href="https://vimhelp.org/cmdline.txt.html#history" class="d">history</a>
        Text in <a href="https://vimhelp.org/change.txt.html#registers" class="d">registers</a>
        Marks for <a href="https://vimhelp.org/various.txt.html#various" class="d">various</a> files
        The buffer <a href="https://vimhelp.org/eval.txt.html#list" class="d">list</a>
        Global <a href="https://vimhelp.org/eval.txt.html#variables" class="d">variables</a>

Each time you exit Vim <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> will store this information in <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> file, the <a href="https://vimhelp.org/starting.txt.html#viminfo" class="d">viminfo</a>
file.  When Vim starts again, the <a href="https://vimhelp.org/starting.txt.html#viminfo" class="d">viminfo</a> file <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> read and the information
restored.

The <a href="https://vimhelp.org/options.txt.html#%27viminfo%27" class="o">'viminfo'</a> option <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> set by default to restore <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> limited number of items.
You might want to set <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> to remember more information.  This <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> done through
the following command: 
<span class="e"></span>
<span class="e">        :set viminfo=string</span>
<span class="e"></span>
The <a href="https://vimhelp.org/eval.txt.html#string" class="d">string</a> specifies what to save.  The <a href="https://vimhelp.org/syntax.txt.html#syntax" class="d">syntax</a> of this <a href="https://vimhelp.org/eval.txt.html#string" class="d">string</a> <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> an option
character followed by an argument.  The option/argument pairs are separated by
commas.
   Take <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> look <a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a> how you can build up your own <a href="https://vimhelp.org/starting.txt.html#viminfo" class="d">viminfo</a> string.  First, the <a href="https://vimhelp.org/motion.txt.html#%27" class="d">'</a>
option <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> used to specify how many files for which you save marks (a-z).  Pick
<a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> nice even number for this option (1000, for instance).  Your command now
looks like this: 
<span class="e"></span>
<span class="e">        :set viminfo='1000</span>
<span class="e"></span>
The <a href="https://vimhelp.org/motion.txt.html#f" class="d">f</a> option controls whether global marks (A-Z and 0-9) are stored.  If this
option <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> 0, none are stored.  If <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> 1 or you <a href="https://vimhelp.org/diff.txt.html#do" class="d">do</a> not specify an <a href="https://vimhelp.org/motion.txt.html#f" class="d">f</a> option,
the marks are stored.  You want this feature, so now you have this: 
<span class="e"></span>
<span class="e">        :set viminfo='1000,f1</span>
<span class="e"></span>
The <a href="https://vimhelp.org/change.txt.html#%3C" class="d">&lt;</a> option controls how many lines are saved for each of the registers.  By
default, all the lines are saved.  If 0, nothing <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> saved.  To avoid adding
thousands of lines to your <a href="https://vimhelp.org/starting.txt.html#viminfo" class="d">viminfo</a> file (which might never get used and makes
<a href="https://vimhelp.org/starting.txt.html#starting" class="d">starting</a> Vim slower) you use <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> maximum of 500 lines: 
<span class="e"></span>
<span class="e">        :set viminfo='1000,f1,&lt;500</span>

Other <a href="https://vimhelp.org/options.txt.html#options" class="d">options</a> you might want to use:
        <a href="https://vimhelp.org/cmdline.txt.html#%3A" class="d">:</a>       number of lines to save from the command line <a href="https://vimhelp.org/cmdline.txt.html#history" class="d">history</a>
        <a href="https://vimhelp.org/repeat.txt.html#%40" class="d">@</a>       number of lines to save from the input line <a href="https://vimhelp.org/cmdline.txt.html#history" class="d">history</a>
        <a href="https://vimhelp.org/pattern.txt.html#%2F" class="d">/</a>       number of lines to save from the search <a href="https://vimhelp.org/cmdline.txt.html#history" class="d">history</a>
        <a href="https://vimhelp.org/change.txt.html#r" class="d">r</a>       removable media, for which no marks will be stored (can be
                used several times)
        <a href="https://vimhelp.org/change.txt.html#%21" class="d">!</a>       global <a href="https://vimhelp.org/eval.txt.html#variables" class="d">variables</a> that start with an <a href="https://vimhelp.org/change.txt.html#uppercase" class="d">uppercase</a> <a href="https://vimhelp.org/print.txt.html#letter" class="d">letter</a> and
                don't contain <a href="https://vimhelp.org/change.txt.html#lowercase" class="d">lowercase</a> letters
        <a href="https://vimhelp.org/motion.txt.html#h" class="d">h</a>       disable <a href="https://vimhelp.org/options.txt.html#%27hlsearch%27" class="o">'hlsearch'</a> highlighting when <a href="https://vimhelp.org/starting.txt.html#starting" class="d">starting</a>
        <a href="https://vimhelp.org/motion.txt.html#%25" class="d">%</a>       the buffer <a href="https://vimhelp.org/eval.txt.html#list" class="d">list</a> (only restored when <a href="https://vimhelp.org/starting.txt.html#starting" class="d">starting</a> Vim without file
                arguments)
        <a href="https://vimhelp.org/change.txt.html#c" class="d">c</a>       convert the text using <a href="https://vimhelp.org/options.txt.html#%27encoding%27" class="o">'encoding'</a>
        <a href="https://vimhelp.org/pattern.txt.html#n" class="d">n</a>       name used for the <a href="https://vimhelp.org/starting.txt.html#viminfo" class="d">viminfo</a> file (must be the last option)

See the <a href="https://vimhelp.org/options.txt.html#%27viminfo%27" class="o">'viminfo'</a> option and <a href="https://vimhelp.org/starting.txt.html#viminfo-file" class="l">viminfo-file</a> for more information.

When you run Vim multiple times, the last one <a href="https://vimhelp.org/starting.txt.html#exiting" class="d">exiting</a> will store its
information.  This may cause information that previously <a href="https://vimhelp.org/starting.txt.html#exiting" class="d">exiting</a> Vims stored
to be lost.  Each item can be remembered only once.


<span class="c">GETTING BACK TO WHERE YOU STOPPED VIM</span>

You are halfway editing <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> file and it's time to leave for holidays.  You exit
Vim and <a href="https://vimhelp.org/motion.txt.html#go" class="d">go</a> enjoy yourselves, forgetting all about your work.  After <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> couple
of weeks you start Vim, and type:

<span class="e">        '0</span>
<span class="e"></span>
And you are right back where you left Vim.  So you can get on with your work.
   Vim creates <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/motion.txt.html#mark" class="d">mark</a> each time you exit Vim.  The last one <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> '0.  The
position that <a href="https://vimhelp.org/motion.txt.html#%270" class="d">'0</a> pointed to <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> made '1.  And '1 <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> made to '2, and so forth.
<a href="https://vimhelp.org/motion.txt.html#Mark" class="d">Mark</a> '9 <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> lost.
   The <a href="https://vimhelp.org/motion.txt.html#%3Amarks" class="l">:marks</a> command <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> useful to find out where <a href="https://vimhelp.org/motion.txt.html#%270" class="d">'0</a> to '9 will take you.


<span class="c">GETTING BACK TO SOME FILE</span>

If you want to <a href="https://vimhelp.org/motion.txt.html#go" class="d">go</a> back to <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> file that you edited recently, but not when
<a href="https://vimhelp.org/starting.txt.html#exiting" class="d">exiting</a> Vim, there <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> slightly more complicated way.  You can see <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/eval.txt.html#list" class="d">list</a> of
files by typing the command: 
<span class="e"></span>
<span class="e">        :oldfiles</span>
<span class="h">       1: ~/.viminfo </span>
<span class="h">        2: ~/text/resume.txt </span>
<span class="h">        3: /tmp/draft </span>

Now you would like to edit the second file, which <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> in the <a href="https://vimhelp.org/eval.txt.html#list" class="d">list</a> preceded by
"2:"<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>  You type: 
<span class="e"></span>
<span class="e">        :e #&lt;2</span>
<span class="e"></span>
Instead of "<a href="https://vimhelp.org/editing.txt.html#%3Ae" class="d">:e</a>" you can use any command that has <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> file name argument, the
"#&lt;2" item works in the same place <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> "<a href="https://vimhelp.org/motion.txt.html#%25" class="d">%</a>" (current file name) and "<a href="https://vimhelp.org/pattern.txt.html#%23" class="d">#</a>"
(alternate file name).  So you can also split the <a href="https://vimhelp.org/windows.txt.html#window" class="d">window</a> to edit the third
file: 
<span class="e"></span>
<span class="e">        :split #&lt;3</span>
<span class="e"></span>
That #&lt;123 thing <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> bit complicated when you just want to edit <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> file.
Fortunately there <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> simpler way: 
<span class="e"></span>
<span class="e">        :browse oldfiles</span>
<span class="h">       1: ~/.viminfo </span>
<span class="h">        2: ~/text/resume.txt </span>
<span class="h">        3: /tmp/draft </span>
        <a href="https://vimhelp.org/starting.txt.html#--" class="d">--</a> More <a href="https://vimhelp.org/starting.txt.html#--" class="d">--</a>

You get the same <a href="https://vimhelp.org/eval.txt.html#list" class="d">list</a> of files <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> with <a href="https://vimhelp.org/starting.txt.html#%3Aoldfiles" class="l">:oldfiles</a><a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>  If you want to edit
"resume.txt" first press "<a href="https://vimhelp.org/repeat.txt.html#q" class="d">q</a>" to stop the listing.  You will get <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> prompt:

<span class="h">        Type number and &lt;Enter&gt; (empty cancels): </span>

Type "2" and press <a href="https://vimhelp.org/intro.txt.html#%3CEnter%3E" class="s">&lt;Enter&gt;</a> to edit the second file.

More info <a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a> <a href="https://vimhelp.org/starting.txt.html#%3Aoldfiles" class="l">:oldfiles</a><a href="https://vimhelp.org/motion.txt.html#%2C" class="d">,</a> <a href="https://vimhelp.org/eval.txt.html#v%3Aoldfiles" class="l">v:oldfiles</a> and <a href="https://vimhelp.org/cmdline.txt.html#c_%23%3C" class="l">c_#&lt;</a><a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>


<span class="c">MOVE INFO FROM ONE VIM TO ANOTHER</span>

You can use the "<a href="https://vimhelp.org/starting.txt.html#%3Awviminfo" class="d">:wviminfo</a>" and "<a href="https://vimhelp.org/starting.txt.html#%3Arviminfo" class="d">:rviminfo</a>" commands to save and restore the
information while still running Vim.  This <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> useful for exchanging <a href="https://vimhelp.org/sponsor.txt.html#register" class="d">register</a>
contents between two instances of Vim, for example.  In the first Vim do: 
<span class="e"></span>
<span class="e">        :wviminfo! ~/tmp/viminfo</span>
<span class="e"></span>
And in the second Vim do: 
<span class="e"></span>
<span class="e">        :rviminfo! ~/tmp/viminfo</span>
<span class="e"></span>
Obviously, the "<a href="https://vimhelp.org/motion.txt.html#w" class="d">w</a>" stands for "write" and the "<a href="https://vimhelp.org/change.txt.html#r" class="d">r</a>" for "read"<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>
   The <a href="https://vimhelp.org/change.txt.html#%21" class="d">!</a> character <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> used by "<a href="https://vimhelp.org/starting.txt.html#%3Awviminfo" class="d">:wviminfo</a>" to forcefully overwrite an existing
file.  When <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> omitted, and the file exists, the information <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> merged into
the file.
   The <a href="https://vimhelp.org/change.txt.html#%21" class="d">!</a> character used for "<a href="https://vimhelp.org/starting.txt.html#%3Arviminfo" class="d">:rviminfo</a>" means that all the information <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a>
used, this may overwrite existing information.  Without the <a href="https://vimhelp.org/change.txt.html#%21" class="d">!</a> only information
that wasn't set <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> used.
   These commands can also be used to store info and use <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> again later.  You
could make <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> directory full of <a href="https://vimhelp.org/starting.txt.html#viminfo" class="d">viminfo</a> files, each containing info for <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a>
different purpose.

<span class="h">==============================================================================</span>
<span id="21.4" class="t">21.4</span>  Sessions

Suppose you are editing along, and <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> the <a href="https://vimhelp.org/intro.txt.html#end" class="d">end</a> of the day.  You want to quit
work and pick up where you left off the next day.  You can <a href="https://vimhelp.org/diff.txt.html#do" class="d">do</a> this by saving
your editing session and restoring <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> the next day.
   <a href="https://vimhelp.org/insert.txt.html#A" class="d">A</a> Vim session contains all the information about what you are editing.
This includes things such <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> the file list, <a href="https://vimhelp.org/windows.txt.html#window" class="d">window</a> layout, global variables,
<a href="https://vimhelp.org/options.txt.html#options" class="d">options</a> and other information.  (Exactly what <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> remembered <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> controlled by
the <a href="https://vimhelp.org/options.txt.html#%27sessionoptions%27" class="o">'sessionoptions'</a> option, described below.)
   The following command creates <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> session file: 
<span class="e"></span>
<span class="e">        :mksession vimbook.vim</span>
<span class="e"></span>
Later if you want to restore this session, you can use this command: 
<span class="e"></span>
<span class="e">        :source vimbook.vim</span>
<span class="e"></span>
If you want to start Vim and restore <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> specific session, you can use the
following command: 
<span class="e"></span>
<span class="e">        vim -S vimbook.vim</span>
<span class="e"></span>
This tells Vim to read <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> specific file on startup.  The 'S' stands for
session (actually, you can source any Vim <a href="https://vimhelp.org/usr_41.txt.html#script" class="d">script</a> with -S, thus <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> might <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a>
well stand for "source").

The <a href="https://vimhelp.org/windows.txt.html#windows" class="d">windows</a> that were open are restored, with the same position and size <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a>
before.  Mappings and option values are like before.
   What exactly <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> restored depends on the <a href="https://vimhelp.org/options.txt.html#%27sessionoptions%27" class="o">'sessionoptions'</a> option.  The
default value is:
"blank,buffers,curdir,folds,help,options,tabpages,winsize,terminal"<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>

        blank           keep empty <a href="https://vimhelp.org/windows.txt.html#windows" class="d">windows</a>
        <a href="https://vimhelp.org/windows.txt.html#buffers" class="d">buffers</a>         all buffers, not only the ones in <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/windows.txt.html#window" class="d">window</a>
        curdir          the current directory
        <a href="https://vimhelp.org/fold.txt.html#folds" class="d">folds</a>           folds, also manually created ones
        <a href="https://vimhelp.org/helphelp.txt.html#help" class="d">help</a>            the <a href="https://vimhelp.org/helphelp.txt.html#help" class="d">help</a> <a href="https://vimhelp.org/windows.txt.html#window" class="d">window</a>
        <a href="https://vimhelp.org/options.txt.html#options" class="d">options</a>         all <a href="https://vimhelp.org/options.txt.html#options" class="d">options</a> and mappings
        tabpages        all <a href="https://vimhelp.org/intro.txt.html#tab" class="d">tab</a> pages
        winsize         <a href="https://vimhelp.org/windows.txt.html#window" class="d">window</a> sizes
        <a href="https://vimhelp.org/terminal.txt.html#terminal" class="d">terminal</a>        include <a href="https://vimhelp.org/terminal.txt.html#terminal" class="d">terminal</a> <a href="https://vimhelp.org/windows.txt.html#windows" class="d">windows</a>

Change this to your liking.  To also restore the size of the Vim window, for
example, use: 
<span class="e"></span>
<span class="e">        :set sessionoptions+=resize</span>
<span class="e"></span>
<span class="e"></span>
<span class="c">SESSION HERE, SESSION THERE</span>

The obvious way to use sessions <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> when working on different projects.
Suppose you store your session files in the directory "~/.vim"<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>  You are
currently working on the "secret" project and have to switch to the "boring"
project: 
<span class="e"></span>
<span class="e">        :wall</span>
<span class="e">        :mksession! ~/.vim/secret.vim</span>
<span class="e">        :source ~/.vim/boring.vim</span>
<span class="e"></span>
This first uses "<a href="https://vimhelp.org/editing.txt.html#%3Awall" class="d">:wall</a>" to write all modified files.  Then the current session
<a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> saved, using ":mksession!"<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>  This overwrites the previous session.  The
next time you load the secret session you can continue where you were <a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a> this
point.  And finally you load the new "boring" session.

If you open <a href="https://vimhelp.org/helphelp.txt.html#help" class="d">help</a> windows, split and close <a href="https://vimhelp.org/various.txt.html#various" class="d">various</a> windows, and generally mess
up the <a href="https://vimhelp.org/windows.txt.html#window" class="d">window</a> layout, you can <a href="https://vimhelp.org/motion.txt.html#go" class="d">go</a> back to the last saved session: 
<span class="e"></span>
<span class="e">        :source ~/.vim/boring.vim</span>
<span class="e"></span>
Thus you have complete <a href="https://vimhelp.org/intro.txt.html#control" class="d">control</a> over whether you want to continue next time
where you are now, by saving the current setup in <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> session, or keep the
session file <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/starting.txt.html#starting" class="d">starting</a> point.
   Another way of using sessions <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> to create <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/windows.txt.html#window" class="d">window</a> layout that you like to
use, and save this in <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> session.  Then you can <a href="https://vimhelp.org/motion.txt.html#go" class="d">go</a> back to this layout whenever
you want.
   For example, this <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> nice layout to use:

        +----------------------------------------+
        |                  VIM <a href="https://vimhelp.org/motion.txt.html#-" class="d">-</a> main <a href="https://vimhelp.org/helphelp.txt.html#help" class="d">help</a> file  |
        |                                        |
        |Move around:  Use the cursor keys, or "<a href="https://vimhelp.org/motion.txt.html#h" class="d">h</a>|
        <span class="l">help.txt================================</span>
        |explorer   |                            |
        |dir        |<a href="https://vimhelp.org/change.txt.html#~" class="d">~</a>                           |
        |dir        |<a href="https://vimhelp.org/change.txt.html#~" class="d">~</a>                           |
        |file       |<a href="https://vimhelp.org/change.txt.html#~" class="d">~</a>                           |
        |file       |<a href="https://vimhelp.org/change.txt.html#~" class="d">~</a>                           |
        |file       |<a href="https://vimhelp.org/change.txt.html#~" class="d">~</a>                           |
        |file       |<a href="https://vimhelp.org/change.txt.html#~" class="d">~</a>                           |
        <span class="l">~/=========</span>[No File]===================|
        |                                        |
        +----------------------------------------+

This has <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/helphelp.txt.html#help" class="d">help</a> <a href="https://vimhelp.org/windows.txt.html#window" class="d">window</a> <a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a> the top, so that you can read this text.  The narrow
vertical <a href="https://vimhelp.org/windows.txt.html#window" class="d">window</a> on the left contains <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> file explorer.  This <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> Vim <a href="https://vimhelp.org/usr_05.txt.html#plugin" class="d">plugin</a>
that lists the contents of <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> directory.  You can select files to edit there.
More about this in the next chapter.
   Create this from <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> just started Vim with: 
<span class="e"></span>
<span class="e">        :help</span>
<span class="e">        CTRL-W w</span>
<span class="e">        :vertical split ~/</span>
<span class="e"></span>
You can resize the <a href="https://vimhelp.org/windows.txt.html#windows" class="d">windows</a> <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> bit to your liking.  Then save the session with:

<span class="e">        :mksession ~/.vim/mine.vim</span>
<span class="e"></span>
Now you can start Vim with this layout: 
<span class="e"></span>
<span class="e">        vim -S ~/.vim/mine.vim</span>
<span class="e"></span>
Hint: To open <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> file you see listed in the explorer <a href="https://vimhelp.org/windows.txt.html#window" class="d">window</a> in the empty
window, move the cursor to the filename and press "<a href="https://vimhelp.org/insert.txt.html#O" class="d">O</a>"<a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>  Double clicking with
the mouse will also <a href="https://vimhelp.org/diff.txt.html#do" class="d">do</a> this.


<span class="c">UNIX AND MS-WINDOWS</span>

Some people have to <a href="https://vimhelp.org/diff.txt.html#do" class="d">do</a> work on <a href="https://vimhelp.org/os_win32.txt.html#MS-Windows" class="d">MS-Windows</a> systems one day and on <a href="https://vimhelp.org/os_unix.txt.html#Unix" class="d">Unix</a> another
day.  If you are one of them, consider adding "slash" and "<a href="https://vimhelp.org/os_unix.txt.html#unix" class="d">unix</a>" to
<a href="https://vimhelp.org/options.txt.html#%27sessionoptions%27" class="o">'sessionoptions'</a>.  The session files will then be written in <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> format that can
be used on both systems.  This <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> the command to <a href="https://vimhelp.org/change.txt.html#put" class="d">put</a> in your <a href="https://vimhelp.org/starting.txt.html#vimrc" class="d">vimrc</a> file: 
<span class="e"></span>
<span class="e">        :set sessionoptions+=unix,slash</span>
<span class="e"></span>
Vim will use the <a href="https://vimhelp.org/os_unix.txt.html#Unix" class="d">Unix</a> format then, because the <a href="https://vimhelp.org/os_win32.txt.html#MS-Windows" class="d">MS-Windows</a> Vim can read and
write <a href="https://vimhelp.org/os_unix.txt.html#Unix" class="d">Unix</a> files, but <a href="https://vimhelp.org/os_unix.txt.html#Unix" class="d">Unix</a> Vim can't read <a href="https://vimhelp.org/os_win32.txt.html#MS-Windows" class="d">MS-Windows</a> format session files.
Similarly, <a href="https://vimhelp.org/os_win32.txt.html#MS-Windows" class="d">MS-Windows</a> Vim understands file names with <a href="https://vimhelp.org/pattern.txt.html#%2F" class="d">/</a> to separate names, but
<a href="https://vimhelp.org/os_unix.txt.html#Unix" class="d">Unix</a> Vim doesn't understand \.


<span class="c">SESSIONS AND VIMINFO</span>

Sessions store many things, but not the position of marks, contents of
<a href="https://vimhelp.org/change.txt.html#registers" class="d">registers</a> and the command line history.  You need to use the <a href="https://vimhelp.org/starting.txt.html#viminfo" class="d">viminfo</a> feature
for these things.
   In most situations you will want to use sessions separately from viminfo.
This can be used to switch to another session, but keep the command line
history.  And <a href="https://vimhelp.org/change.txt.html#yank" class="d">yank</a> text into <a href="https://vimhelp.org/change.txt.html#registers" class="d">registers</a> in one session, and paste <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> back in
another session.
   You might prefer to keep the info with the session.  You will have to <a href="https://vimhelp.org/diff.txt.html#do" class="d">do</a>
this yourself then.  Example: 
<span class="e"></span>
<span class="e">        :mksession! ~/.vim/secret.vim</span>
<span class="e">        :wviminfo! ~/.vim/secret.viminfo</span>
<span class="e"></span>
And to restore this again: 
<span class="e"></span>
<span class="e">        :source ~/.vim/secret.vim</span>
<span class="e">        :rviminfo! ~/.vim/secret.viminfo</span>
<span class="e"></span>
<span class="h">==============================================================================</span>
<span id="21.5" class="t">21.5</span>  Views

<a href="https://vimhelp.org/insert.txt.html#A" class="d">A</a> session stores the looks of the whole of Vim.  When you want to store the
properties for one <a href="https://vimhelp.org/windows.txt.html#window" class="d">window</a> only, use <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> view.
   The use of <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/starting.txt.html#view" class="d">view</a> <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> for when you want to edit <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> file in <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> specific way.
For example, you have line numbers enabled with the <a href="https://vimhelp.org/options.txt.html#%27number%27" class="o">'number'</a> option and
defined <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> few folds.  Just like with sessions, you can remember this <a href="https://vimhelp.org/starting.txt.html#view" class="d">view</a> on
the file and restore <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> later.  Actually, when you store <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> session, <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> stores
the <a href="https://vimhelp.org/starting.txt.html#view" class="d">view</a> of each window.
   There are two basic ways to use views.  The first <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> to let Vim pick <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> name
for the <a href="https://vimhelp.org/starting.txt.html#view" class="d">view</a> file.  You can restore the <a href="https://vimhelp.org/starting.txt.html#view" class="d">view</a> when you later edit the same
file.  To store the <a href="https://vimhelp.org/starting.txt.html#view" class="d">view</a> for the current window: 
<span class="e"></span>
<span class="e">        :mkview</span>
<span class="e"></span>
Vim will decide where to store the view.  When you later edit the same file
you get the <a href="https://vimhelp.org/starting.txt.html#view" class="d">view</a> back with this command: 
<span class="e"></span>
<span class="e">        :loadview</span>
<span class="e"></span>
That's easy, isn't it?
   Now you want to <a href="https://vimhelp.org/starting.txt.html#view" class="d">view</a> the file without the <a href="https://vimhelp.org/options.txt.html#%27number%27" class="o">'number'</a> option on, or with all
<a href="https://vimhelp.org/fold.txt.html#folds" class="d">folds</a> open, you can set the <a href="https://vimhelp.org/options.txt.html#options" class="d">options</a> to make the <a href="https://vimhelp.org/windows.txt.html#window" class="d">window</a> look that way.  Then
store this <a href="https://vimhelp.org/starting.txt.html#view" class="d">view</a> with: 
<span class="e"></span>
<span class="e">        :mkview 1</span>
<span class="e"></span>
Obviously, you can get this back with: 
<span class="e"></span>
<span class="e">        :loadview 1</span>
<span class="e"></span>
Now you can switch between the two views on the file by using "<a href="https://vimhelp.org/starting.txt.html#%3Aloadview" class="d">:loadview</a>" with
and without the "1" argument.
   You can store up to ten views for the same file this way, one unnumbered
and nine numbered 1 to 9.


<span class="c">A VIEW WITH A NAME</span>

The second basic way to use views <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> by storing the <a href="https://vimhelp.org/starting.txt.html#view" class="d">view</a> in <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> file with <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> name
you choose.  This <a href="https://vimhelp.org/starting.txt.html#view" class="d">view</a> can be loaded while editing another file.  Vim will
then switch to editing the file specified in the view.  Thus you can use this
to quickly switch to editing another file, with all its <a href="https://vimhelp.org/options.txt.html#options" class="d">options</a> set <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> you
saved them.
   For example, to save the <a href="https://vimhelp.org/starting.txt.html#view" class="d">view</a> of the current file: 
<span class="e"></span>
<span class="e">        :mkview ~/.vim/main.vim</span>
<span class="e"></span>
You can restore <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> with: 
<span class="e"></span>
<span class="e">        :source ~/.vim/main.vim</span>
<span class="e"></span>
<span class="h">==============================================================================</span>
<span id="21.6" class="t">21.6</span>  Modelines

When editing <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> specific file, you might set <a href="https://vimhelp.org/options.txt.html#options" class="d">options</a> specifically for that
file.  Typing these commands each time <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> boring.  Using <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> session or <a href="https://vimhelp.org/starting.txt.html#view" class="d">view</a> for
editing <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> file doesn't work when sharing the file between several people.
   The solution for this situation <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> adding <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/options.txt.html#modeline" class="d">modeline</a> to the file.  This <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a>
<a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> line of text that tells Vim the values of options, to be used in this file
only.
   <a href="https://vimhelp.org/insert.txt.html#A" class="d">A</a> typical example <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/change.txt.html#C" class="d">C</a> program where you make indents by <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> multiple of 4
spaces.  This requires setting the <a href="https://vimhelp.org/options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a> option to 4.  This <a href="https://vimhelp.org/options.txt.html#modeline" class="d">modeline</a>
will <a href="https://vimhelp.org/diff.txt.html#do" class="d">do</a> that:

<span class="h">        /* vim:set shiftwidth=4: */ </span>

Put this line <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> one of the first or last five lines in the file.  When
editing the file, you will notice that <a href="https://vimhelp.org/options.txt.html#%27shiftwidth%27" class="o">'shiftwidth'</a> will have been set to
four.  When editing another file, it's set back to the default value of eight.
   For some files the <a href="https://vimhelp.org/options.txt.html#modeline" class="d">modeline</a> fits well in the header, thus <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> can be <a href="https://vimhelp.org/change.txt.html#put" class="d">put</a> <a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a>
the top of the file.  For text files and other files where the <a href="https://vimhelp.org/options.txt.html#modeline" class="d">modeline</a> gets
in the way of the normal contents, <a href="https://vimhelp.org/change.txt.html#put" class="d">put</a> <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> <a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a> the <a href="https://vimhelp.org/intro.txt.html#end" class="d">end</a> of the file.

The <a href="https://vimhelp.org/options.txt.html#%27modelines%27" class="o">'modelines'</a> option specifies how many lines <a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a> the start and <a href="https://vimhelp.org/intro.txt.html#end" class="d">end</a> of the
file are inspected for containing <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> modeline.  To inspect ten lines: 
<span class="e"></span>
<span class="e">        :set modelines=10</span>
<span class="e"></span>
The <a href="https://vimhelp.org/options.txt.html#%27modeline%27" class="o">'modeline'</a> option can be used to switch this off.  Do this when you are
working <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> root on <a href="https://vimhelp.org/os_unix.txt.html#Unix" class="d">Unix</a> or Administrator on MS-Windows, or when you don't
trust the files you are editing: 
<span class="e"></span>
<span class="e">        :set nomodeline</span>
<span class="e"></span>
Use this format for the modeline:

<span class="h">        any-text vim:set {option}={value} ... : any-text </span>

The "any-text" indicates that you can <a href="https://vimhelp.org/change.txt.html#put" class="d">put</a> any text before and after the part
that Vim will use.  This allows making <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> look like <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> comment, like what was
done above with <a href="https://vimhelp.org/pattern.txt.html#%2F" class="d">/</a>* and *<a href="https://vimhelp.org/pattern.txt.html#%2F." class="d">/.</a>
   The " <a href="https://vimhelp.org/options.txt.html#vim%3A" class="d">vim:</a>" part <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> what makes Vim recognize this line.  There <a href="https://vimhelp.org/vim_faq.txt.html#must" class="d">must</a> be
white <a href="https://vimhelp.org/intro.txt.html#space" class="d">space</a> before "vim"<a href="https://vimhelp.org/motion.txt.html#%2C" class="d">,</a> or "vim" <a href="https://vimhelp.org/vim_faq.txt.html#must" class="d">must</a> be <a href="https://vimhelp.org/motion.txt.html#at" class="d">at</a> the start of the line.  Thus
using something like "gvim:" will not work.
   The part between the colons <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> "<a href="https://vimhelp.org/options.txt.html#%3Aset" class="d">:set</a>" command.  It works the same way <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a>
typing the "<a href="https://vimhelp.org/options.txt.html#%3Aset" class="d">:set</a>" command, except that you need to <a href="https://vimhelp.org/insert.txt.html#insert" class="d">insert</a> <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> <a href="https://vimhelp.org/intro.txt.html#backslash" class="d">backslash</a> before <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a>
colon (otherwise <a href="https://vimhelp.org/motion.txt.html#it" class="d">it</a> would be seen <a href="https://vimhelp.org/motion.txt.html#as" class="d">as</a> the <a href="https://vimhelp.org/intro.txt.html#end" class="d">end</a> of the modeline).

Another example:

<span class="h">        // vim:set textwidth=72 dir=c\:\tmp:  use c:\tmp here </span>

There <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> an extra <a href="https://vimhelp.org/intro.txt.html#backslash" class="d">backslash</a> before the first colon, so that it's included in
the "<a href="https://vimhelp.org/options.txt.html#%3Aset" class="d">:set</a>" command.  The text after the second colon <a href="https://vimhelp.org/motion.txt.html#is" class="d">is</a> ignored, thus <a href="https://vimhelp.org/insert.txt.html#a" class="d">a</a> remark
can be placed there.

For more details see <a href="https://vimhelp.org/options.txt.html#modeline" class="l">modeline</a><a href="https://vimhelp.org/repeat.txt.html#." class="d">.</a>

<span class="h">==============================================================================</span>

Next chapter: <a href="https://vimhelp.org/usr_22.txt.html#usr_22.txt" class="l">usr_22.txt</a>  Finding the file to edit

Copyright: see <a href="https://vimhelp.org/usr_01.txt.html#manual-copyright" class="l">manual-copyright</a>  vim:tw=78:ts=8:noet:ft=help:norl:


</pre>
</div>
<div id="vh-sidebar" style="visibility: visible; position: sticky; left: 86.5417px;"><ul><li><a href="#">Top</a></li><li><a href="#21.1">Suspend and resume</a></li><li><a href="#21.2">Executing shell commands</a></li><li><a href="#21.3">Remembering information; viminfo</a></li><li><a href="#21.4">Sessions</a></li><li><a href="#21.5">Views</a></li><li><a href="#21.6">Modelines</a></li></ul></div>
</main>
<p>
Quick links:
<a href="https://vimhelp.org/">help overview</a> 路
<a href="https://vimhelp.org/quickref.txt.html">quick reference</a> 路
<a href="https://vimhelp.org/usr_toc.txt.html">user manual toc</a> 路
<a href="https://vimhelp.org/#reference_toc">reference manual toc</a>
路 <a href="https://vimhelp.org/vim_faq.txt.html">faq</a></p>
<footer>This site is maintained by Carlo Teubner (<i>(my first name) at cteubner dot net</i>).</footer>


<div id="sourcegraph-app-background" data-platform="firefox-extension" data-version="22.11.24.1820" style="display: none;"></div></body></html>